(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-notifications"],{"2ac5":function(t,e,n){"use strict";function a(t,e){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][e]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},"2f93":function(t,e,n){},"634b":function(t,e,n){"use strict";n("2f93")},b401:function(t,e,n){"use strict";var a=n("7a23");function i(t,e,n,i,c,o){return Object(a["x"])(),Object(a["g"])("span",null,Object(a["I"])(o.ago),1)}var c=["second","minute","hour","day","week","month","year"],o=function(t,e){if(0===e)return["just now","right now"];var n=c[Math.floor(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},s=["秒","分钟","小时","天","周","个月","年"],r=function(t,e){if(0===e)return["刚刚","片刻后"];var n=s[~~(e/2)];return[t+" "+n+"前",t+" "+n+"后"]},u={},m=function(t,e){u[t]=e},f=function(t){return u[t]||u["en_US"]},h=[60,60,24,7,365/7/12,12];function l(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function b(t,e){var n=t<0?1:0;t=Math.abs(t);for(var a=t,i=0;t>=h[i]&&i<h.length;i++)t/=h[i];return t=Math.floor(t),i*=2,t>(0===i?9:1)&&(i+=1),e(t,i,a)[n].replace("%s",t.toString())}function d(t,e){var n=e?l(e):new Date;return(+n-+l(t))/1e3}var O=function(t,e,n){var a=d(t,n&&n.relativeDate);return b(a,f(e))};m("en_US",o),m("zh_CN",r);var p=n("2ac5"),j=n.n(p);m("pt_BR",j.a);var E={name:"TimeAgo",props:{time:{type:String,required:!0}},computed:{ago:function(){return O(this.time,"pt_BR")}}};E.render=i;e["a"]=E},fda7:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i=Object(a["h"])("br",null,null,-1),c={class:"container"},o={class:"columns is-centered mx-0"},s={class:"column is-half"},r={class:"box"},u=Object(a["h"])("h3",{class:"title is-3 is-size-5-touch p-3 mb-0"}," Notificações ",-1),m=Object(a["h"])("hr",{class:"my-0"},null,-1);function f(t,e,n,f,h,l){var b=Object(a["F"])("Navbar"),d=Object(a["F"])("Notification"),O=Object(a["F"])("c-view"),p=Object(a["F"])("NavbarBottom");return Object(a["x"])(),Object(a["g"])(a["a"],null,[Object(a["m"])(b,{class:"has-shadow"}),i,Object(a["h"])("div",c,[Object(a["h"])("div",o,[Object(a["h"])("div",s,[Object(a["h"])("div",r,[u,m,(Object(a["x"])(!0),Object(a["g"])(a["a"],null,Object(a["D"])(t.notifications,(function(t){return Object(a["x"])(),Object(a["e"])(d,{key:t.id,notification:t,class:"mt-3 p-2"},null,8,["notification"])})),128))])])])]),t.notifications.length>0?(Object(a["x"])(),Object(a["e"])(O,{key:0,onShow:l.page},null,8,["onShow"])):Object(a["f"])("",!0),Object(a["m"])(p)],64)}var h=n("2909"),l=n("1da1"),b=(n("96cf"),n("46d3")),d=n("2f88"),O=n("25a0"),p={class:"mx-2"},j={class:"has-text-dark pl-1"},E={key:0,class:"has-text-dark"};function g(t,e,n,i,c,o){var s=Object(a["F"])("c-avatar"),r=Object(a["F"])("router-link"),u=Object(a["F"])("TimeAgo");return Object(a["x"])(),Object(a["g"])("article",{class:Object(a["t"])({"notification-new":!o.isViewed})},[Object(a["h"])("a",{class:"is-flex is-align-items-center p-1 has-text-grey-dark is-justify-content-flex-start",onClick:e[0]||(e[0]=function(){return o.router&&o.router.apply(o,arguments)})},[Object(a["m"])(r,{to:"/u/".concat(n.notification.user.username),class:"icon is-large"},{default:Object(a["P"])((function(){return[Object(a["m"])(s,{src:n.notification.user.picture,round:""},null,8,["src"])]})),_:1},8,["to"]),Object(a["h"])("div",p,[Object(a["h"])("p",null,[Object(a["m"])(r,{to:"/u/".concat(n.notification.user.username)},{default:Object(a["P"])((function(){return[Object(a["h"])("strong",null," @"+Object(a["I"])(n.notification.user.username),1)]})),_:1},8,["to"]),Object(a["h"])("span",j,Object(a["I"])(o.message),1),o.text?(Object(a["x"])(),Object(a["g"])("span",E,Object(a["I"])(o.text),1)):Object(a["f"])("",!0)]),Object(a["h"])("small",null,[Object(a["m"])(u,{class:"has-text-dark",time:n.notification.createdAt},null,8,["time"])])])])],2)}var v=n("b401"),_={USER_COMMENT_EVENT:"comentou na sua postagem: ",USER_FOLLOWED:"te seguiu",USER_LIKE_EVENT:"curtiu sua postagem",USER_COMMENT_LIKE_EVENT:"curtiu seu comentário",USER_TAGGED_COMMENT_EVENT:"te marcou em um comentário: ",USER_COMMENT_EVENT_COMMENTED:"comentou em uma publicação que você interagiu: "},N={name:"Notification",components:{TimeAgo:v["a"]},props:{notification:{type:Object,required:!0}},computed:{message:function(){return _[this.notification.type]},isViewed:function(){return null!==this.notification.viewedAt},text:function(){return this.notification.data&&this.notification.data.text?this.notification.data.text.length<40?this.notification.data.text:this.notification.data.text.substring(0,40)+"...":""}},methods:{router:function(){switch(this.notification.type){case"USER_COMMENT_EVENT":case"USER_LIKE_EVENT":case"USER_TAGGED_COMMENT_EVENT":case"USER_COMMENT_EVENT_COMMENTED":this.$router.push("/p/".concat(this.notification.data.eventId));break;case"USER_COMMENT_LIKE_EVENT":this.$router.push("/p/".concat(this.notification.data));break;case"USER_FOLLOWED":default:this.$router.push("/u/".concat(this.notification.user.username))}}}};n("634b");N.render=g,N.__scopeId="data-v-255b1655";var w=N,x={name:"Notifications",components:{Navbar:d["a"],Notification:w,NavbarBottom:O["a"]},data:function(){return{notifications:[]}},methods:{page:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.notifications[t.notifications.length-1],e.next=3,b["a"].notifications.fetchPage(10,a.id);case 3:i=e.sent,(n=t.notifications).push.apply(n,Object(h["a"])(i));case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].notifications.fetchPage();case 2:t.notifications=e.sent;case 3:case"end":return e.stop()}}),e)})))()}};x.render=f;e["default"]=x}}]);
//# sourceMappingURL=group-notifications.bbbe5f8d.js.map
{"version":3,"sources":["webpack:///./src/commons/meili.api.js","webpack:///./node_modules/@meilisearch/instant-meilisearch/dist/instant-meilisearch.umd.js"],"names":["options","placeholderSearch","url","key","instantMeiliSearch","factory","exports","this","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","il","j","commonjsGlobal","globalThis","window","global","self","createCommonjsModule","fn","module","browserPolyfill","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","isDataView","obj","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","toString","normalizeName","name","String","test","toLowerCase","normalizeValue","iteratorFor","items","shift","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","error","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","fromCharCode","join","bufferClone","slice","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","get","type","Error","text","decode","json","JSON","parse","oldValue","has","callback","keys","values","entries","methods","normalizeMethod","method","upcased","toUpperCase","Request","input","credentials","mode","signal","referrer","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","preProcessedHeaders","line","parts","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","err","message","stack","create","constructor","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","meilisearch_umd","extendStatics","d","b","setPrototypeOf","__proto__","__extends","__","MeiliSearchCommunicationError","_super","_a","_b","_c","_this","statusCode","errno","code","captureStackTrace","MeiliSearchApiError","class_1","link","httpStatus","httpResponseErrorHandler","httpErrorHandler","MeiliSearchError","MeiliSearchTimeOutError","HttpRequests","config","apiKey","URL","host","addTrailingSlash","endsWith","params","constructURL","queryParams_1","parsedBody","parsedJson","e_1","filter","x","search","stringify","res","post","data","put","removeUndefinedFromObject","reduce","acc","curEntry","val","sleep","ms","setTimeout","addProtocolIfNotPresent","startsWith","Index","uid","primaryKey","httpRequest","waitForPendingUpdate","updateId","timeOutMs","_d","intervalMs","startingTime","_e","Date","now","getUpdateStatus","includes","query","q","searchGet","parseFilter","getParams","sort","facetsDistribution","attributesToRetrieve","attributesToCrop","attributesToHighlight","getRawInfo","fetchInfo","fetchPrimaryKey","req","index","update","deleteIfExists","getAllUpdateStatus","getStats","getDocuments","attr","getDocument","documentId","addDocuments","documents","addDocumentsInBatches","batchSize","updates","updateDocuments","updateDocumentsInBatches","deleteDocument","deleteDocuments","documentsIds","deleteAllDocuments","getSettings","updateSettings","settings","resetSettings","getSynonyms","updateSynonyms","synonyms","resetSynonyms","getStopWords","updateStopWords","stopWords","resetStopWords","getRankingRules","updateRankingRules","rankingRules","resetRankingRules","getDistinctAttribute","updateDistinctAttribute","distinctAttribute","resetDistinctAttribute","getFilterableAttributes","updateFilterableAttributes","filterableAttributes","resetFilterableAttributes","getSortableAttributes","updateSortableAttributes","sortableAttributes","resetSortableAttributes","getSearchableAttributes","updateSearchableAttributes","searchableAttributes","resetSearchableAttributes","getDisplayedAttributes","updateDisplayedAttributes","displayedAttributes","resetDisplayedAttributes","MeiliSearch","indexUid","getIndex","getRawIndex","getOrCreateIndex","createIndex","getIndexes","updateIndex","deleteIndex","deleteIndexIfExists","e_2","getKeys","health","isHealthy","getVersion","createDump","getDumpStatus","dumpUid","removeUndefined","arr","isString","str","replaceColonByEqualSign","stringifyArray","curr","ceiledDivision","dividend","divisor","NumberPages","Math","ceil","adaptFilterSyntax","matches","match","filterName","extractFilters","filters","nestedFilter","flat","cacheFilters","extractedFilters","cleanFilters","cache","parsedFilter","prevFields","assignMissingFilters","cachedFilters","distribution","cachedFacet","_i","cachedField","SearchResolver","searchResponse","searchContext","client","entry","filterCache","formatKey","getEntry","setEntry","rad2degr","rad","PI","degr2rad","degr","middleGeoPoints","lat1","lng1","lat2","lng2","x1","cos","y1","sin","z1","x2","y2","z2","z","Hyp","sqrt","lng3","atan2","lat3","abs","pow","concat","getDistanceInMeter","R","latRad1","latRad2","latCenterRad","lngCenterRad","a","bearing","distance","adaptGeoPointsRules","geoSearchContext","middlePoint","radius","insideBoundingBox","aroundLatLng","aroundRadius","minimumAroundRadius","lat1Raw","lng1Raw","lat2Raw","lng2Raw","parseFloat","Number","toFixed","createGeoSearchContext","geoContext","aroundLatLngViaIP","aroundPrecision","insidePolygon","console","warn","transformFilter","elem","filterToArray","mergeFilters","facetFilters","numericFilters","adaptedFilters","adaptedFacetFilters","adaptedNumericFilters","adaptedFilter","cleanedFilters","adaptFilters","transformedFilter","transformedNumericFilter","adaptSearchParams","meiliSearchParams","facets","attributesToSnippet","paginationTotalHits","limit","geoRules","unshift","adaptPagination","hits","page","hitsPerPage","start","replaceDefaultEMTag","preTag","postTag","stringifiedValue","addHighlightTags","resolveHighlightValue","adaptHighlight","hit","_formatted","nakedOfTags","addEllipsis","formatValue","ellipsis","ellipsedValue","resolveSnippet","adaptSnippet","attributes","formattedHit","newHit","snippets","attribute","wildCard","snippets_1","adaptFormating","snippetEllipsisText","highlightPreTag","highlightPostTag","_highlightResult","_snippetResult","highlightedHit","adaptGeoResponse","_geo","_geoloc","lat","lng","objectID","random","adaptHits","paginationContext","paginatedHits","formattedHits","_matchesInfo","restOfHit","adaptSearchResponse","searchResponseOptionals","exhaustiveFacetsCount","nbPages","exhaustiveNbHits","nbHits","processingTimeMs","adaptedSearchResponse","processingTimeMS","results","SearchCache","searchCache","components","hostUrl","searchResolver","context","MeiliSearchClient","instantSearchRequests","searchRequest","instantSearchParams","adaptedSearchRequest","createSearchContext","createPaginationContext","searchForFacetValues","indexName","sortByArray"],"mappings":"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","file":"js/group-asset~group-cartera~group-debug~group-feed~group-landing~group-notifications~group-profile.1881d1c3.js","sourcesContent":["import { instantMeiliSearch } from '@meilisearch/instant-meilisearch'\n\nconst options = {\n  placeholderSearch: false\n}\n\nconst url = process.env.NODE_ENV === 'production'\n  ? 'https://meilisearch-cartera.herokuapp.com/'\n  : 'http://localhost:7700'\n\nconst key = process.env.NODE_ENV === 'production'\n  ? '9625a71bb5d6a90cee15060ed621a91f2f7fcb9e68c12a3e55918bd3c6029b24'\n  : ''\n\nexport default () => instantMeiliSearch(url, key, options)\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.window = global.window || {}));\n}(this, (function (exports) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __rest(s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    }\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __spreadArray(to, from) {\r\n        for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n            to[j] = from[i];\r\n        return to;\r\n    }\n\n    var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n    function createCommonjsModule(fn) {\n      var module = { exports: {} };\n    \treturn fn(module, module.exports), module.exports;\n    }\n\n    var browserPolyfill = createCommonjsModule(function (module) {\n      (function (self) {\n        (function (exports) {\n          var support = {\n            searchParams: 'URLSearchParams' in self,\n            iterable: 'Symbol' in self && 'iterator' in Symbol,\n            blob: 'FileReader' in self && 'Blob' in self && function () {\n              try {\n                new Blob();\n                return true;\n              } catch (e) {\n                return false;\n              }\n            }(),\n            formData: 'FormData' in self,\n            arrayBuffer: 'ArrayBuffer' in self\n          };\n\n          function isDataView(obj) {\n            return obj && DataView.prototype.isPrototypeOf(obj);\n          }\n\n          if (support.arrayBuffer) {\n            var viewClasses = ['[object Int8Array]', '[object Uint8Array]', '[object Uint8ClampedArray]', '[object Int16Array]', '[object Uint16Array]', '[object Int32Array]', '[object Uint32Array]', '[object Float32Array]', '[object Float64Array]'];\n\n            var isArrayBufferView = ArrayBuffer.isView || function (obj) {\n              return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;\n            };\n          }\n\n          function normalizeName(name) {\n            if (typeof name !== 'string') {\n              name = String(name);\n            }\n\n            if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n              throw new TypeError('Invalid character in header field name');\n            }\n\n            return name.toLowerCase();\n          }\n\n          function normalizeValue(value) {\n            if (typeof value !== 'string') {\n              value = String(value);\n            }\n\n            return value;\n          } // Build a destructive iterator for the value list\n\n\n          function iteratorFor(items) {\n            var iterator = {\n              next: function () {\n                var value = items.shift();\n                return {\n                  done: value === undefined,\n                  value: value\n                };\n              }\n            };\n\n            if (support.iterable) {\n              iterator[Symbol.iterator] = function () {\n                return iterator;\n              };\n            }\n\n            return iterator;\n          }\n\n          function Headers(headers) {\n            this.map = {};\n\n            if (headers instanceof Headers) {\n              headers.forEach(function (value, name) {\n                this.append(name, value);\n              }, this);\n            } else if (Array.isArray(headers)) {\n              headers.forEach(function (header) {\n                this.append(header[0], header[1]);\n              }, this);\n            } else if (headers) {\n              Object.getOwnPropertyNames(headers).forEach(function (name) {\n                this.append(name, headers[name]);\n              }, this);\n            }\n          }\n\n          Headers.prototype.append = function (name, value) {\n            name = normalizeName(name);\n            value = normalizeValue(value);\n            var oldValue = this.map[name];\n            this.map[name] = oldValue ? oldValue + ', ' + value : value;\n          };\n\n          Headers.prototype['delete'] = function (name) {\n            delete this.map[normalizeName(name)];\n          };\n\n          Headers.prototype.get = function (name) {\n            name = normalizeName(name);\n            return this.has(name) ? this.map[name] : null;\n          };\n\n          Headers.prototype.has = function (name) {\n            return this.map.hasOwnProperty(normalizeName(name));\n          };\n\n          Headers.prototype.set = function (name, value) {\n            this.map[normalizeName(name)] = normalizeValue(value);\n          };\n\n          Headers.prototype.forEach = function (callback, thisArg) {\n            for (var name in this.map) {\n              if (this.map.hasOwnProperty(name)) {\n                callback.call(thisArg, this.map[name], name, this);\n              }\n            }\n          };\n\n          Headers.prototype.keys = function () {\n            var items = [];\n            this.forEach(function (value, name) {\n              items.push(name);\n            });\n            return iteratorFor(items);\n          };\n\n          Headers.prototype.values = function () {\n            var items = [];\n            this.forEach(function (value) {\n              items.push(value);\n            });\n            return iteratorFor(items);\n          };\n\n          Headers.prototype.entries = function () {\n            var items = [];\n            this.forEach(function (value, name) {\n              items.push([name, value]);\n            });\n            return iteratorFor(items);\n          };\n\n          if (support.iterable) {\n            Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n          }\n\n          function consumed(body) {\n            if (body.bodyUsed) {\n              return Promise.reject(new TypeError('Already read'));\n            }\n\n            body.bodyUsed = true;\n          }\n\n          function fileReaderReady(reader) {\n            return new Promise(function (resolve, reject) {\n              reader.onload = function () {\n                resolve(reader.result);\n              };\n\n              reader.onerror = function () {\n                reject(reader.error);\n              };\n            });\n          }\n\n          function readBlobAsArrayBuffer(blob) {\n            var reader = new FileReader();\n            var promise = fileReaderReady(reader);\n            reader.readAsArrayBuffer(blob);\n            return promise;\n          }\n\n          function readBlobAsText(blob) {\n            var reader = new FileReader();\n            var promise = fileReaderReady(reader);\n            reader.readAsText(blob);\n            return promise;\n          }\n\n          function readArrayBufferAsText(buf) {\n            var view = new Uint8Array(buf);\n            var chars = new Array(view.length);\n\n            for (var i = 0; i < view.length; i++) {\n              chars[i] = String.fromCharCode(view[i]);\n            }\n\n            return chars.join('');\n          }\n\n          function bufferClone(buf) {\n            if (buf.slice) {\n              return buf.slice(0);\n            } else {\n              var view = new Uint8Array(buf.byteLength);\n              view.set(new Uint8Array(buf));\n              return view.buffer;\n            }\n          }\n\n          function Body() {\n            this.bodyUsed = false;\n\n            this._initBody = function (body) {\n              this._bodyInit = body;\n\n              if (!body) {\n                this._bodyText = '';\n              } else if (typeof body === 'string') {\n                this._bodyText = body;\n              } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n                this._bodyBlob = body;\n              } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n                this._bodyFormData = body;\n              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                this._bodyText = body.toString();\n              } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n                this._bodyArrayBuffer = bufferClone(body.buffer); // IE 10-11 can't handle a DataView body.\n\n                this._bodyInit = new Blob([this._bodyArrayBuffer]);\n              } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n                this._bodyArrayBuffer = bufferClone(body);\n              } else {\n                this._bodyText = body = Object.prototype.toString.call(body);\n              }\n\n              if (!this.headers.get('content-type')) {\n                if (typeof body === 'string') {\n                  this.headers.set('content-type', 'text/plain;charset=UTF-8');\n                } else if (this._bodyBlob && this._bodyBlob.type) {\n                  this.headers.set('content-type', this._bodyBlob.type);\n                } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n                  this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n                }\n              }\n            };\n\n            if (support.blob) {\n              this.blob = function () {\n                var rejected = consumed(this);\n\n                if (rejected) {\n                  return rejected;\n                }\n\n                if (this._bodyBlob) {\n                  return Promise.resolve(this._bodyBlob);\n                } else if (this._bodyArrayBuffer) {\n                  return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n                } else if (this._bodyFormData) {\n                  throw new Error('could not read FormData body as blob');\n                } else {\n                  return Promise.resolve(new Blob([this._bodyText]));\n                }\n              };\n\n              this.arrayBuffer = function () {\n                if (this._bodyArrayBuffer) {\n                  return consumed(this) || Promise.resolve(this._bodyArrayBuffer);\n                } else {\n                  return this.blob().then(readBlobAsArrayBuffer);\n                }\n              };\n            }\n\n            this.text = function () {\n              var rejected = consumed(this);\n\n              if (rejected) {\n                return rejected;\n              }\n\n              if (this._bodyBlob) {\n                return readBlobAsText(this._bodyBlob);\n              } else if (this._bodyArrayBuffer) {\n                return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));\n              } else if (this._bodyFormData) {\n                throw new Error('could not read FormData body as text');\n              } else {\n                return Promise.resolve(this._bodyText);\n              }\n            };\n\n            if (support.formData) {\n              this.formData = function () {\n                return this.text().then(decode);\n              };\n            }\n\n            this.json = function () {\n              return this.text().then(JSON.parse);\n            };\n\n            return this;\n          } // HTTP methods whose capitalization should be normalized\n\n\n          var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n          function normalizeMethod(method) {\n            var upcased = method.toUpperCase();\n            return methods.indexOf(upcased) > -1 ? upcased : method;\n          }\n\n          function Request(input, options) {\n            options = options || {};\n            var body = options.body;\n\n            if (input instanceof Request) {\n              if (input.bodyUsed) {\n                throw new TypeError('Already read');\n              }\n\n              this.url = input.url;\n              this.credentials = input.credentials;\n\n              if (!options.headers) {\n                this.headers = new Headers(input.headers);\n              }\n\n              this.method = input.method;\n              this.mode = input.mode;\n              this.signal = input.signal;\n\n              if (!body && input._bodyInit != null) {\n                body = input._bodyInit;\n                input.bodyUsed = true;\n              }\n            } else {\n              this.url = String(input);\n            }\n\n            this.credentials = options.credentials || this.credentials || 'same-origin';\n\n            if (options.headers || !this.headers) {\n              this.headers = new Headers(options.headers);\n            }\n\n            this.method = normalizeMethod(options.method || this.method || 'GET');\n            this.mode = options.mode || this.mode || null;\n            this.signal = options.signal || this.signal;\n            this.referrer = null;\n\n            if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n              throw new TypeError('Body not allowed for GET or HEAD requests');\n            }\n\n            this._initBody(body);\n          }\n\n          Request.prototype.clone = function () {\n            return new Request(this, {\n              body: this._bodyInit\n            });\n          };\n\n          function decode(body) {\n            var form = new FormData();\n            body.trim().split('&').forEach(function (bytes) {\n              if (bytes) {\n                var split = bytes.split('=');\n                var name = split.shift().replace(/\\+/g, ' ');\n                var value = split.join('=').replace(/\\+/g, ' ');\n                form.append(decodeURIComponent(name), decodeURIComponent(value));\n              }\n            });\n            return form;\n          }\n\n          function parseHeaders(rawHeaders) {\n            var headers = new Headers(); // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n            // https://tools.ietf.org/html/rfc7230#section-3.2\n\n            var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n            preProcessedHeaders.split(/\\r?\\n/).forEach(function (line) {\n              var parts = line.split(':');\n              var key = parts.shift().trim();\n\n              if (key) {\n                var value = parts.join(':').trim();\n                headers.append(key, value);\n              }\n            });\n            return headers;\n          }\n\n          Body.call(Request.prototype);\n\n          function Response(bodyInit, options) {\n            if (!options) {\n              options = {};\n            }\n\n            this.type = 'default';\n            this.status = options.status === undefined ? 200 : options.status;\n            this.ok = this.status >= 200 && this.status < 300;\n            this.statusText = 'statusText' in options ? options.statusText : 'OK';\n            this.headers = new Headers(options.headers);\n            this.url = options.url || '';\n\n            this._initBody(bodyInit);\n          }\n\n          Body.call(Response.prototype);\n\n          Response.prototype.clone = function () {\n            return new Response(this._bodyInit, {\n              status: this.status,\n              statusText: this.statusText,\n              headers: new Headers(this.headers),\n              url: this.url\n            });\n          };\n\n          Response.error = function () {\n            var response = new Response(null, {\n              status: 0,\n              statusText: ''\n            });\n            response.type = 'error';\n            return response;\n          };\n\n          var redirectStatuses = [301, 302, 303, 307, 308];\n\n          Response.redirect = function (url, status) {\n            if (redirectStatuses.indexOf(status) === -1) {\n              throw new RangeError('Invalid status code');\n            }\n\n            return new Response(null, {\n              status: status,\n              headers: {\n                location: url\n              }\n            });\n          };\n\n          exports.DOMException = self.DOMException;\n\n          try {\n            new exports.DOMException();\n          } catch (err) {\n            exports.DOMException = function (message, name) {\n              this.message = message;\n              this.name = name;\n              var error = Error(message);\n              this.stack = error.stack;\n            };\n\n            exports.DOMException.prototype = Object.create(Error.prototype);\n            exports.DOMException.prototype.constructor = exports.DOMException;\n          }\n\n          function fetch(input, init) {\n            return new Promise(function (resolve, reject) {\n              var request = new Request(input, init);\n\n              if (request.signal && request.signal.aborted) {\n                return reject(new exports.DOMException('Aborted', 'AbortError'));\n              }\n\n              var xhr = new XMLHttpRequest();\n\n              function abortXhr() {\n                xhr.abort();\n              }\n\n              xhr.onload = function () {\n                var options = {\n                  status: xhr.status,\n                  statusText: xhr.statusText,\n                  headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n                };\n                options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n                var body = 'response' in xhr ? xhr.response : xhr.responseText;\n                resolve(new Response(body, options));\n              };\n\n              xhr.onerror = function () {\n                reject(new TypeError('Network request failed'));\n              };\n\n              xhr.ontimeout = function () {\n                reject(new TypeError('Network request failed'));\n              };\n\n              xhr.onabort = function () {\n                reject(new exports.DOMException('Aborted', 'AbortError'));\n              };\n\n              xhr.open(request.method, request.url, true);\n\n              if (request.credentials === 'include') {\n                xhr.withCredentials = true;\n              } else if (request.credentials === 'omit') {\n                xhr.withCredentials = false;\n              }\n\n              if ('responseType' in xhr && support.blob) {\n                xhr.responseType = 'blob';\n              }\n\n              request.headers.forEach(function (value, name) {\n                xhr.setRequestHeader(name, value);\n              });\n\n              if (request.signal) {\n                request.signal.addEventListener('abort', abortXhr);\n\n                xhr.onreadystatechange = function () {\n                  // DONE (success or failure)\n                  if (xhr.readyState === 4) {\n                    request.signal.removeEventListener('abort', abortXhr);\n                  }\n                };\n              }\n\n              xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n            });\n          }\n\n          fetch.polyfill = true;\n\n          if (!self.fetch) {\n            self.fetch = fetch;\n            self.Headers = Headers;\n            self.Request = Request;\n            self.Response = Response;\n          }\n\n          exports.Headers = Headers;\n          exports.Request = Request;\n          exports.Response = Response;\n          exports.fetch = fetch;\n          Object.defineProperty(exports, '__esModule', {\n            value: true\n          });\n          return exports;\n        })({});\n      })(typeof self !== 'undefined' ? self : commonjsGlobal);\n    });\n\n    var meilisearch_umd = createCommonjsModule(function (module, exports) {\n      (function (global, factory) {\n        factory(exports, browserPolyfill) ;\n      })(commonjsGlobal, function (exports) {\n        /*! *****************************************************************************\r\n        Copyright (c) Microsoft Corporation.\r\n          Permission to use, copy, modify, and/or distribute this software for any\r\n        purpose with or without fee is hereby granted.\r\n          THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n        PERFORMANCE OF THIS SOFTWARE.\r\n        ***************************************************************************** */\n\n        /* global Reflect, Promise */\n\n        var extendStatics = function (d, b) {\n          extendStatics = Object.setPrototypeOf || {\n            __proto__: []\n          } instanceof Array && function (d, b) {\n            d.__proto__ = b;\n          } || function (d, b) {\n            for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n          };\n\n          return extendStatics(d, b);\n        };\n\n        function __extends(d, b) {\n          if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n          extendStatics(d, b);\n\n          function __() {\n            this.constructor = d;\n          }\n\n          d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n        }\n\n        var __assign = function () {\n          __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n              s = arguments[i];\n\n              for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n\n            return t;\n          };\n\n          return __assign.apply(this, arguments);\n        };\n\n        function __awaiter(thisArg, _arguments, P, generator) {\n          function adopt(value) {\n            return value instanceof P ? value : new P(function (resolve) {\n              resolve(value);\n            });\n          }\n\n          return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n              try {\n                step(generator.next(value));\n              } catch (e) {\n                reject(e);\n              }\n            }\n\n            function rejected(value) {\n              try {\n                step(generator[\"throw\"](value));\n              } catch (e) {\n                reject(e);\n              }\n            }\n\n            function step(result) {\n              result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n          });\n        }\n\n        function __generator(thisArg, body) {\n          var _ = {\n            label: 0,\n            sent: function () {\n              if (t[0] & 1) throw t[1];\n              return t[1];\n            },\n            trys: [],\n            ops: []\n          },\n              f,\n              y,\n              t,\n              g;\n          return g = {\n            next: verb(0),\n            \"throw\": verb(1),\n            \"return\": verb(2)\n          }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n            return this;\n          }), g;\n\n          function verb(n) {\n            return function (v) {\n              return step([n, v]);\n            };\n          }\n\n          function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n\n            while (_) try {\n              if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n              if (y = 0, t) op = [op[0] & 2, t.value];\n\n              switch (op[0]) {\n                case 0:\n                case 1:\n                  t = op;\n                  break;\n\n                case 4:\n                  _.label++;\n                  return {\n                    value: op[1],\n                    done: false\n                  };\n\n                case 5:\n                  _.label++;\n                  y = op[1];\n                  op = [0];\n                  continue;\n\n                case 7:\n                  op = _.ops.pop();\n\n                  _.trys.pop();\n\n                  continue;\n\n                default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                    _ = 0;\n                    continue;\n                  }\n\n                  if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                    _.label = op[1];\n                    break;\n                  }\n\n                  if (op[0] === 6 && _.label < t[1]) {\n                    _.label = t[1];\n                    t = op;\n                    break;\n                  }\n\n                  if (t && _.label < t[2]) {\n                    _.label = t[2];\n\n                    _.ops.push(op);\n\n                    break;\n                  }\n\n                  if (t[2]) _.ops.pop();\n\n                  _.trys.pop();\n\n                  continue;\n              }\n\n              op = body.call(thisArg, _);\n            } catch (e) {\n              op = [6, e];\n              y = 0;\n            } finally {\n              f = t = 0;\n            }\n\n            if (op[0] & 5) throw op[1];\n            return {\n              value: op[0] ? op[1] : void 0,\n              done: true\n            };\n          }\n        }\n\n        var MeiliSearchCommunicationError =\n        /** @class */\n        function (_super) {\n          __extends(MeiliSearchCommunicationError, _super);\n\n          function MeiliSearchCommunicationError(message, body, url, stack) {\n            var _a, _b, _c;\n\n            var _this = _super.call(this, message) || this;\n\n            _this.name = 'MeiliSearchCommunicationError';\n            _this.type = 'MeiliSearchCommunicationError';\n\n            if (body instanceof Response) {\n              _this.message = body.statusText;\n              _this.statusCode = body.status;\n            }\n\n            if (body instanceof Error) {\n              _this.errno = body.errno;\n              _this.code = body.code;\n            }\n\n            if (stack) {\n              _this.stack = stack;\n              _this.stack = (_a = _this.stack) === null || _a === void 0 ? void 0 : _a.replace(/(TypeError|FetchError)/, _this.name);\n              _this.stack = (_b = _this.stack) === null || _b === void 0 ? void 0 : _b.replace('Failed to fetch', \"request to \" + url + \" failed, reason: connect ECONNREFUSED\");\n              _this.stack = (_c = _this.stack) === null || _c === void 0 ? void 0 : _c.replace('Not Found', \"Not Found: \" + url);\n            } else {\n              if (Error.captureStackTrace) {\n                Error.captureStackTrace(_this, MeiliSearchCommunicationError);\n              }\n            }\n\n            return _this;\n          }\n\n          return MeiliSearchCommunicationError;\n        }(Error);\n\n        var MeiliSearchApiError =\n        /** @class */\n        function (_super) {\n          __extends(class_1, _super);\n\n          function class_1(error, status) {\n            var _this = _super.call(this, error.message) || this;\n\n            _this.name = 'MeiliSearchApiError';\n            _this.code = error.code;\n            _this.type = error.type;\n            _this.link = error.link;\n            _this.message = error.message;\n            _this.httpStatus = status; // Make errors comparison possible. ex: error instanceof MeiliSearchApiError.\n\n            Object.setPrototypeOf(_this, MeiliSearchApiError.prototype);\n\n            if (Error.captureStackTrace) {\n              Error.captureStackTrace(_this, MeiliSearchApiError);\n            }\n\n            return _this;\n          }\n\n          return class_1;\n        }(Error);\n\n        function httpResponseErrorHandler(response) {\n          return __awaiter(this, void 0, void 0, function () {\n            var err;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  if (!!response.ok) return [3\n                  /*break*/\n                  , 5];\n                  err = void 0;\n                  _a.label = 1;\n\n                case 1:\n                  _a.trys.push([1, 3,, 4]);\n\n                  return [4\n                  /*yield*/\n                  , response.json()];\n\n                case 2:\n                  err = _a.sent();\n                  return [3\n                  /*break*/\n                  , 4];\n\n                case 3:\n                  _a.sent();\n\n                  throw new MeiliSearchCommunicationError(response.statusText, response, response.url);\n\n                case 4:\n                  throw new MeiliSearchApiError(err, response.status);\n\n                case 5:\n                  return [2\n                  /*return*/\n                  , response];\n              }\n            });\n          });\n        }\n\n        function httpErrorHandler(response, stack, url) {\n          if (response.type !== 'MeiliSearchApiError') {\n            throw new MeiliSearchCommunicationError(response.message, response, url, stack);\n          }\n\n          throw response;\n        }\n\n        var MeiliSearchError =\n        /** @class */\n        function (_super) {\n          __extends(MeiliSearchError, _super);\n\n          function MeiliSearchError(message) {\n            var _this = _super.call(this, message) || this;\n\n            _this.name = 'MeiliSearchError';\n            _this.type = 'MeiliSearchError';\n\n            if (Error.captureStackTrace) {\n              Error.captureStackTrace(_this, MeiliSearchError);\n            }\n\n            return _this;\n          }\n\n          return MeiliSearchError;\n        }(Error);\n\n        var MeiliSearchTimeOutError =\n        /** @class */\n        function (_super) {\n          __extends(MeiliSearchTimeOutError, _super);\n\n          function MeiliSearchTimeOutError(message) {\n            var _this = _super.call(this, message) || this;\n\n            _this.name = 'MeiliSearchTimeOutError';\n            _this.type = _this.constructor.name;\n\n            if (Error.captureStackTrace) {\n              Error.captureStackTrace(_this, MeiliSearchTimeOutError);\n            }\n\n            return _this;\n          }\n\n          return MeiliSearchTimeOutError;\n        }(Error);\n\n        var HttpRequests =\n        /** @class */\n        function () {\n          function HttpRequests(config) {\n            this.headers = __assign(__assign(__assign({}, config.headers || {}), {\n              'Content-Type': 'application/json'\n            }), config.apiKey ? {\n              'X-Meili-API-Key': config.apiKey\n            } : {});\n            this.url = new URL(config.host);\n          }\n\n          HttpRequests.addTrailingSlash = function (url) {\n            if (!url.endsWith('/')) {\n              url += '/';\n            }\n\n            return url;\n          };\n\n          HttpRequests.prototype.request = function (_a) {\n            var method = _a.method,\n                url = _a.url,\n                params = _a.params,\n                body = _a.body,\n                config = _a.config;\n            return __awaiter(this, void 0, void 0, function () {\n              var constructURL, queryParams_1, response, parsedBody, parsedJson, e_1, stack;\n              return __generator(this, function (_b) {\n                switch (_b.label) {\n                  case 0:\n                    constructURL = new URL(url, this.url);\n\n                    if (params) {\n                      queryParams_1 = new URLSearchParams();\n                      Object.keys(params).filter(function (x) {\n                        return params[x] !== null;\n                      }).map(function (x) {\n                        return queryParams_1.set(x, params[x]);\n                      });\n                      constructURL.search = queryParams_1.toString();\n                    }\n\n                    _b.label = 1;\n\n                  case 1:\n                    _b.trys.push([1, 4,, 5]);\n\n                    return [4\n                    /*yield*/\n                    , fetch(constructURL.toString(), __assign(__assign({}, config), {\n                      method: method,\n                      body: JSON.stringify(body),\n                      headers: this.headers\n                    })).then(function (res) {\n                      return httpResponseErrorHandler(res);\n                    })];\n\n                  case 2:\n                    response = _b.sent();\n                    return [4\n                    /*yield*/\n                    , response.text()];\n\n                  case 3:\n                    parsedBody = _b.sent();\n\n                    try {\n                      parsedJson = JSON.parse(parsedBody);\n                      return [2\n                      /*return*/\n                      , parsedJson];\n                    } catch (_) {\n                      return [2\n                      /*return*/\n                      ];\n                    }\n\n                    return [3\n                    /*break*/\n                    , 5];\n\n                  case 4:\n                    e_1 = _b.sent();\n                    stack = e_1.stack;\n                    httpErrorHandler(e_1, stack, constructURL.toString());\n                    return [3\n                    /*break*/\n                    , 5];\n\n                  case 5:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          };\n\n          HttpRequests.prototype.get = function (url, params, config) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    return [4\n                    /*yield*/\n                    , this.request({\n                      method: 'GET',\n                      url: url,\n                      params: params,\n                      config: config\n                    })];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n\n          HttpRequests.prototype.post = function (url, data, params, config) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    return [4\n                    /*yield*/\n                    , this.request({\n                      method: 'POST',\n                      url: url,\n                      body: data,\n                      params: params,\n                      config: config\n                    })];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n\n          HttpRequests.prototype.put = function (url, data, params, config) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    return [4\n                    /*yield*/\n                    , this.request({\n                      method: 'PUT',\n                      url: url,\n                      body: data,\n                      params: params,\n                      config: config\n                    })];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n\n          HttpRequests.prototype[\"delete\"] = function (url, data, params, config) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    return [4\n                    /*yield*/\n                    , this.request({\n                      method: 'DELETE',\n                      url: url,\n                      body: data,\n                      params: params,\n                      config: config\n                    })];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n\n          return HttpRequests;\n        }();\n        /**\r\n         * Removes undefined entries from object\r\n         */\n\n\n        function removeUndefinedFromObject(obj) {\n          return Object.entries(obj).reduce(function (acc, curEntry) {\n            var key = curEntry[0],\n                val = curEntry[1];\n            if (val !== undefined) acc[key] = val;\n            return acc;\n          }, {});\n        }\n\n        function sleep(ms) {\n          return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  return [4\n                  /*yield*/\n                  , new Promise(function (resolve) {\n                    return setTimeout(resolve, ms);\n                  })];\n\n                case 1:\n                  return [2\n                  /*return*/\n                  , _a.sent()];\n              }\n            });\n          });\n        }\n\n        function addProtocolIfNotPresent(host) {\n          if (!(host.startsWith('https://') || host.startsWith('http://'))) {\n            return \"http://\" + host;\n          }\n\n          return host;\n        }\n        /*\r\n         * Bundle: MeiliSearch / Indexes\r\n         * Project: MeiliSearch - Javascript API\r\n         * Author: Quentin de Quelen <quentin@meilisearch.com>\r\n         * Copyright: 2019, MeiliSearch\r\n         */\n\n\n        var Index =\n        /** @class */\n        function () {\n          /**\r\n           * @param {Config} config Request configuration options\r\n           * @param {string} uid UID of the index\r\n           * @param {string} primaryKey? Primary Key of the index\r\n           */\n          function Index(config, uid, primaryKey) {\n            this.uid = uid;\n            this.primaryKey = primaryKey;\n            this.httpRequest = new HttpRequests(config);\n          } ///\n          /// UTILS\n          ///\n\n          /**\r\n           * Waits for a pending update till it has been processed\r\n           * @param {number} updateId Update identifier\r\n           * @param {WaitForPendingUpdateOptions} options Additional configuration options\r\n           * @returns {Promise<Update>} Promise containing Update object after it has been processed\r\n           */\n\n\n          Index.prototype.waitForPendingUpdate = function (updateId, _a) {\n            var _b = _a === void 0 ? {} : _a,\n                _c = _b.timeOutMs,\n                timeOutMs = _c === void 0 ? 5000 : _c,\n                _d = _b.intervalMs,\n                intervalMs = _d === void 0 ? 50 : _d;\n\n            return __awaiter(this, void 0, void 0, function () {\n              var startingTime, response;\n              return __generator(this, function (_e) {\n                switch (_e.label) {\n                  case 0:\n                    startingTime = Date.now();\n                    _e.label = 1;\n\n                  case 1:\n                    if (!(Date.now() - startingTime < timeOutMs)) return [3\n                    /*break*/\n                    , 4];\n                    return [4\n                    /*yield*/\n                    , this.getUpdateStatus(updateId)];\n\n                  case 2:\n                    response = _e.sent();\n                    if (!['enqueued', 'processing'].includes(response.status)) return [2\n                    /*return*/\n                    , response];\n                    return [4\n                    /*yield*/\n                    , sleep(intervalMs)];\n\n                  case 3:\n                    _e.sent();\n\n                    return [3\n                    /*break*/\n                    , 1];\n\n                  case 4:\n                    throw new MeiliSearchTimeOutError(\"timeout of \" + timeOutMs + \"ms has exceeded on process \" + updateId + \" when waiting for pending update to resolve.\");\n                }\n              });\n            });\n          }; ///\n          /// SEARCH\n          ///\n\n          /**\r\n           * Search for documents into an index\r\n           * @memberof Index\r\n           * @method search\r\n           * @template T\r\n           * @param {string | null} query? Query string\r\n           * @param {SearchParams} options? Search options\r\n           * @param {Partial<Request>} config? Additional request configuration options\r\n           * @returns {Promise<SearchResponse<T>>} Promise containing the search response\r\n           */\n\n\n          Index.prototype.search = function (query, options, config) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/search\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, removeUndefinedFromObject(__assign(__assign({}, options), {\n                      q: query\n                    })), undefined, config)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Search for documents into an index using the GET method\r\n           * @memberof Index\r\n           * @method search\r\n           * @template T\r\n           * @param {string | null} query? Query string\r\n           * @param {SearchParams} options? Search options\r\n           * @param {Partial<Request>} config? Additional request configuration options\r\n           * @returns {Promise<SearchResponse<T>>} Promise containing the search response\r\n           */\n\n\n          Index.prototype.searchGet = function (query, options, config) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url, parseFilter, getParams;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/search\";\n\n                    parseFilter = function parseFilter(filter) {\n                      if (typeof filter === 'string') return filter;else if (Array.isArray(filter)) throw new MeiliSearchError('The filter query parameter should be in string format when using searchGet');else return undefined;\n                    };\n\n                    getParams = __assign(__assign({\n                      q: query\n                    }, options), {\n                      filter: parseFilter(options === null || options === void 0 ? void 0 : options.filter),\n                      sort: (options === null || options === void 0 ? void 0 : options.sort) ? options.sort.join(',') : undefined,\n                      facetsDistribution: (options === null || options === void 0 ? void 0 : options.facetsDistribution) ? options.facetsDistribution.join(',') : undefined,\n                      attributesToRetrieve: (options === null || options === void 0 ? void 0 : options.attributesToRetrieve) ? options.attributesToRetrieve.join(',') : undefined,\n                      attributesToCrop: (options === null || options === void 0 ? void 0 : options.attributesToCrop) ? options.attributesToCrop.join(',') : undefined,\n                      attributesToHighlight: (options === null || options === void 0 ? void 0 : options.attributesToHighlight) ? options.attributesToHighlight.join(',') : undefined\n                    });\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url, removeUndefinedFromObject(getParams), config)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// INDEX\n          ///\n\n          /**\r\n           * Get index information.\r\n           * @memberof Index\r\n           * @method getRawInfo\r\n           * @returns {Promise<IndexResponse>} Promise containing index information\r\n           */\n\n\n          Index.prototype.getRawInfo = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url, res;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid;\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    res = _a.sent();\n                    this.primaryKey = res.primaryKey;\n                    return [2\n                    /*return*/\n                    , res];\n                }\n              });\n            });\n          };\n          /**\r\n           * Fetch and update Index information.\r\n           * @memberof Index\r\n           * @method fetchInfo\r\n           * @returns {Promise<this>} Promise to the current Index object with updated information\r\n           */\n\n\n          Index.prototype.fetchInfo = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    return [4\n                    /*yield*/\n                    , this.getRawInfo()];\n\n                  case 1:\n                    _a.sent();\n\n                    return [2\n                    /*return*/\n                    , this];\n                }\n              });\n            });\n          };\n          /**\r\n           * Get Primary Key.\r\n           * @memberof Index\r\n           * @method fetchPrimaryKey\r\n           * @returns {Promise<string | undefined>} Promise containing the Primary Key of the index\r\n           */\n\n\n          Index.prototype.fetchPrimaryKey = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var _a;\n\n              return __generator(this, function (_b) {\n                switch (_b.label) {\n                  case 0:\n                    _a = this;\n                    return [4\n                    /*yield*/\n                    , this.getRawInfo()];\n\n                  case 1:\n                    _a.primaryKey = _b.sent().primaryKey;\n                    return [2\n                    /*return*/\n                    , this.primaryKey];\n                }\n              });\n            });\n          };\n          /**\r\n           * Create an index.\r\n           * @memberof Index\r\n           * @method create\r\n           * @template T\r\n           * @param {string} uid Unique identifier of the Index\r\n           * @param {IndexOptions} options Index options\r\n           * @param {Config} config Request configuration options\r\n           * @returns {Promise<Index<T>>} Newly created Index object\r\n           */\n\n\n          Index.create = function (uid, options, config) {\n            if (options === void 0) {\n              options = {};\n            }\n\n            return __awaiter(this, void 0, void 0, function () {\n              var url, req, index;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes\";\n                    req = new HttpRequests(config);\n                    return [4\n                    /*yield*/\n                    , req.post(url, __assign(__assign({}, options), {\n                      uid: uid\n                    }))];\n\n                  case 1:\n                    index = _a.sent();\n                    return [2\n                    /*return*/\n                    , new Index(config, uid, index.primaryKey)];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update an index.\r\n           * @memberof Index\r\n           * @method update\r\n           * @param {IndexOptions} data Data to update\r\n           * @returns {Promise<this>} Promise to the current Index object with updated information\r\n           */\n\n\n          Index.prototype.update = function (data) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url, index;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid;\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.put(url, data)];\n\n                  case 1:\n                    index = _a.sent();\n                    this.primaryKey = index.primaryKey;\n                    return [2\n                    /*return*/\n                    , this];\n                }\n              });\n            });\n          };\n          /**\r\n           * Delete an index.\r\n           * @memberof Index\r\n           * @method delete\r\n           * @returns {Promise<void>} Promise which resolves when index is deleted successfully\r\n           */\n\n\n          Index.prototype[\"delete\"] = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid;\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Deletes an index if it already exists.\r\n           * @memberof Index\r\n           * @method deleteIfExists\r\n           * @returns {Promise<boolean>} Promise which resolves to true when index exists and is deleted successfully, otherwise false if it does not exist\r\n           */\n\n\n          Index.prototype.deleteIfExists = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var e_1;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    _a.trys.push([0, 2,, 3]);\n\n                    return [4\n                    /*yield*/\n                    , this[\"delete\"]()];\n\n                  case 1:\n                    _a.sent();\n\n                    return [2\n                    /*return*/\n                    , true];\n\n                  case 2:\n                    e_1 = _a.sent();\n\n                    if (e_1.code === \"index_not_found\"\n                    /* INDEX_NOT_FOUND */\n                    ) {\n                      return [2\n                      /*return*/\n                      , false];\n                    }\n\n                    throw e_1;\n\n                  case 3:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          }; ///\n          /// UPDATES\n          ///\n\n          /**\r\n           * Get the list of all updates\r\n           * @memberof Index\r\n           * @method getAllUpdateStatus\r\n           * @returns {Promise<Update[]>} Promise containing array of Update objects\r\n           */\n\n\n          Index.prototype.getAllUpdateStatus = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/updates\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Get the informations about an update status\r\n           * @memberof Index\r\n           * @method getUpdateStatus\r\n           * @param {number} updateId Update identifier\r\n           * @returns {Promise<Update>} Promise containing the requested Update object\r\n           */\n\n\n          Index.prototype.getUpdateStatus = function (updateId) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/updates/\" + updateId;\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// STATS\n          ///\n\n          /**\r\n           * get stats of an index\r\n           * @memberof Index\r\n           * @method getStats\r\n           * @returns {Promise<IndexStats>} Promise containing object with stats of the index\r\n           */\n\n\n          Index.prototype.getStats = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/stats\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// DOCUMENTS\n          ///\n\n          /**\r\n           * get documents of an index\r\n           * @memberof Index\r\n           * @method getDocuments\r\n           * @template T\r\n           * @param {GetDocumentsParams<T>} options? Options to browse the documents\r\n           * @returns {Promise<GetDocumentsResponse<T>>} Promise containing Document responses\r\n           */\n\n\n          Index.prototype.getDocuments = function (options) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url, attr;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents\";\n\n                    if (options !== undefined && Array.isArray(options.attributesToRetrieve)) {\n                      attr = options.attributesToRetrieve.join(',');\n                    }\n\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url, __assign(__assign({}, options), attr !== undefined ? {\n                      attributesToRetrieve: attr\n                    } : {}))];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Get one document\r\n           * @memberof Index\r\n           * @method getDocument\r\n           * @template T\r\n           * @param {string | number} documentId Document ID\r\n           * @returns {Promise<Document<T>>} Promise containing Document response\r\n           */\n\n\n          Index.prototype.getDocument = function (documentId) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents/\" + documentId;\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Add or replace multiples documents to an index\r\n           * @memberof Index\r\n           * @method addDocuments\r\n           * @template T\r\n           * @param {Array<Document<T>>} documents Array of Document objects to add/replace\r\n           * @param {AddDocumentParams} options? Query parameters\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.addDocuments = function (documents, options) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, documents, options)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Add or replace multiples documents to an index in batches\r\n           * @memberof Index\r\n           * @method addDocumentsInBatches\r\n           * @template T\r\n           * @param {Array<Document<T>>} documents Array of Document objects to add/replace\r\n           * @param {number} batchSize Size of the batch\r\n           * @param {AddDocumentParams} options? Query parameters\r\n           * @returns {Promise<EnqueuedUpdate[]>} Promise containing array of enqueued update objects for each batch\r\n           */\n\n\n          Index.prototype.addDocumentsInBatches = function (documents, batchSize, options) {\n            if (batchSize === void 0) {\n              batchSize = 1000;\n            }\n\n            return __awaiter(this, void 0, void 0, function () {\n              var updates, i, _a, _b;\n\n              return __generator(this, function (_c) {\n                switch (_c.label) {\n                  case 0:\n                    updates = [];\n                    i = 0;\n                    _c.label = 1;\n\n                  case 1:\n                    if (!(i < documents.length)) return [3\n                    /*break*/\n                    , 4];\n                    _b = (_a = updates).push;\n                    return [4\n                    /*yield*/\n                    , this.addDocuments(documents.slice(i, i + batchSize), options)];\n\n                  case 2:\n                    _b.apply(_a, [_c.sent()]);\n\n                    _c.label = 3;\n\n                  case 3:\n                    i += batchSize;\n                    return [3\n                    /*break*/\n                    , 1];\n\n                  case 4:\n                    return [2\n                    /*return*/\n                    , updates];\n                }\n              });\n            });\n          };\n          /**\r\n           * Add or update multiples documents to an index\r\n           * @memberof Index\r\n           * @method updateDocuments\r\n           * @param {Array<Document<T>>} documents Array of Document objects to add/update\r\n           * @param {AddDocumentParams} options? Query parameters\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateDocuments = function (documents, options) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.put(url, documents, options)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Add or update multiples documents to an index in batches\r\n           * @memberof Index\r\n           * @method updateDocuments\r\n           * @template T\r\n           * @param {Array<Document<T>>} documents Array of Document objects to add/update\r\n           * @param {number} batchSize Size of the batch\r\n           * @param {AddDocumentParams} options? Query parameters\r\n           * @returns {Promise<EnqueuedUpdate[]>} Promise containing array of enqueued update objects for each batch\r\n           */\n\n\n          Index.prototype.updateDocumentsInBatches = function (documents, batchSize, options) {\n            if (batchSize === void 0) {\n              batchSize = 1000;\n            }\n\n            return __awaiter(this, void 0, void 0, function () {\n              var updates, i, _a, _b;\n\n              return __generator(this, function (_c) {\n                switch (_c.label) {\n                  case 0:\n                    updates = [];\n                    i = 0;\n                    _c.label = 1;\n\n                  case 1:\n                    if (!(i < documents.length)) return [3\n                    /*break*/\n                    , 4];\n                    _b = (_a = updates).push;\n                    return [4\n                    /*yield*/\n                    , this.updateDocuments(documents.slice(i, i + batchSize), options)];\n\n                  case 2:\n                    _b.apply(_a, [_c.sent()]);\n\n                    _c.label = 3;\n\n                  case 3:\n                    i += batchSize;\n                    return [3\n                    /*break*/\n                    , 1];\n\n                  case 4:\n                    return [2\n                    /*return*/\n                    , updates];\n                }\n              });\n            });\n          };\n          /**\r\n           * Delete one document\r\n           * @memberof Index\r\n           * @method deleteDocument\r\n           * @param {string | number} documentId Id of Document to delete\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.deleteDocument = function (documentId) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents/\" + documentId;\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Delete multiples documents of an index\r\n           * @memberof Index\r\n           * @method deleteDocuments\r\n           * @param {string[] | number[]} documentsIds Array of Document Ids to delete\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.deleteDocuments = function (documentsIds) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents/delete-batch\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, documentsIds)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Delete all documents of an index\r\n           * @memberof Index\r\n           * @method deleteAllDocuments\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.deleteAllDocuments = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/documents\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// SETTINGS\n          ///\n\n          /**\r\n           * Retrieve all settings\r\n           * @memberof Index\r\n           * @method getSettings\r\n           * @returns {Promise<Settings>} Promise containing Settings object\r\n           */\n\n\n          Index.prototype.getSettings = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update all settings\r\n           * Any parameters not provided will be left unchanged.\r\n           * @memberof Index\r\n           * @method updateSettings\r\n           * @param {Settings} settings Object containing parameters with their updated values\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateSettings = function (settings) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, settings)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset settings.\r\n           * @memberof Index\r\n           * @method resetSettings\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetSettings = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// SYNONYMS\n          ///\n\n          /**\r\n           * Get the list of all synonyms\r\n           * @memberof Index\r\n           * @method getSynonyms\r\n           * @returns {Promise<object>} Promise containing object of synonym mappings\r\n           */\n\n\n          Index.prototype.getSynonyms = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/synonyms\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the list of synonyms. Overwrite the old list.\r\n           * @memberof Index\r\n           * @method updateSynonyms\r\n           * @param {Synonyms} synonyms Mapping of synonyms with their associated words\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateSynonyms = function (synonyms) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/synonyms\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, synonyms)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the synonym list to be empty again\r\n           * @memberof Index\r\n           * @method resetSynonyms\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetSynonyms = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/synonyms\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// STOP WORDS\n          ///\n\n          /**\r\n           * Get the list of all stop-words\r\n           * @memberof Index\r\n           * @method getStopWords\r\n           * @returns {Promise<string[]>} Promise containing array of stop-words\r\n           */\n\n\n          Index.prototype.getStopWords = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/stop-words\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the list of stop-words. Overwrite the old list.\r\n           * @memberof Index\r\n           * @method updateStopWords\r\n           * @param {StopWords} stopWords Array of strings that contains the stop-words.\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateStopWords = function (stopWords) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/stop-words\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, stopWords)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the stop-words list to be empty again\r\n           * @memberof Index\r\n           * @method resetStopWords\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetStopWords = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/stop-words\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// RANKING RULES\n          ///\n\n          /**\r\n           * Get the list of all ranking-rules\r\n           * @memberof Index\r\n           * @method getRankingRules\r\n           * @returns {Promise<string[]} Promise containing array of ranking-rules\r\n           */\n\n\n          Index.prototype.getRankingRules = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/ranking-rules\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the list of ranking-rules. Overwrite the old list.\r\n           * @memberof Index\r\n           * @method updateRankingRules\r\n           * @param {RankingRules} rankingRules Array that contain ranking rules sorted by order of importance.\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateRankingRules = function (rankingRules) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/ranking-rules\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, rankingRules)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the ranking rules list to its default value\r\n           * @memberof Index\r\n           * @method resetRankingRules\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetRankingRules = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/ranking-rules\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// DISTINCT ATTRIBUTE\n          ///\n\n          /**\r\n           * Get the distinct-attribute\r\n           * @memberof Index\r\n           * @method getDistinctAttribute\r\n           * @returns {Promise<string | null>} Promise containing the distinct-attribute of the index\r\n           */\n\n\n          Index.prototype.getDistinctAttribute = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/distinct-attribute\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the distinct-attribute.\r\n           * @memberof Index\r\n           * @method updateDistinctAttribute\r\n           * @param {DistinctAttribute} distinctAttribute Field name of the distinct-attribute\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateDistinctAttribute = function (distinctAttribute) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/distinct-attribute\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, distinctAttribute)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the distinct-attribute.\r\n           * @memberof Index\r\n           * @method resetDistinctAttribute\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetDistinctAttribute = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/distinct-attribute\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// FILTERABLE ATTRIBUTES\n          ///\n\n          /**\r\n           * Get the filterable-attributes\r\n           * @memberof Index\r\n           * @method getFilterableAttributes\r\n           * @returns {Promise<string[]>} Promise containing an array of filterable-attributes\r\n           */\n\n\n          Index.prototype.getFilterableAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/filterable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the filterable-attributes.\r\n           * @memberof Index\r\n           * @method updateFilterableAttributes\r\n           * @param {FilterableAttributes} filterableAttributes Array of strings containing the attributes that can be used as filters at query time\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateFilterableAttributes = function (filterableAttributes) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/filterable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, filterableAttributes)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the filterable-attributes.\r\n           * @memberof Index\r\n           * @method resetFilterableAttributes\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetFilterableAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/filterable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// SORTABLE ATTRIBUTES\n          ///\n\n          /**\r\n           * Get the sortable-attributes\r\n           * @memberof Index\r\n           * @method getSortableAttributes\r\n           * @returns {Promise<string[]>} Promise containing array of sortable-attributes\r\n           */\n\n\n          Index.prototype.getSortableAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/sortable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the sortable-attributes.\r\n           * @memberof Index\r\n           * @method updateSortableAttributes\r\n           * @param {SortableAttributes} sortableAttributes Array of strings containing the attributes that can be used to sort search results at query time\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateSortableAttributes = function (sortableAttributes) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/sortable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, sortableAttributes)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the sortable-attributes.\r\n           * @memberof Index\r\n           * @method resetSortableAttributes\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetSortableAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/sortable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// SEARCHABLE ATTRIBUTE\n          ///\n\n          /**\r\n           * Get the searchable-attributes\r\n           * @memberof Index\r\n           * @method getSearchableAttributes\r\n           * @returns {Promise<string[]>} Promise containing array of searchable-attributes\r\n           */\n\n\n          Index.prototype.getSearchableAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/searchable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the searchable-attributes.\r\n           * @memberof Index\r\n           * @method updateSearchableAttributes\r\n           * @param {SearchableAttributes} searchableAttributes Array of strings that contains searchable attributes sorted by order of importance(most to least important)\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateSearchableAttributes = function (searchableAttributes) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/searchable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, searchableAttributes)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the searchable-attributes.\r\n           * @memberof Index\r\n           * @method resetSearchableAttributes\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetSearchableAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/searchable-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// DISPLAYED ATTRIBUTE\n          ///\n\n          /**\r\n           * Get the displayed-attributes\r\n           * @memberof Index\r\n           * @method getDisplayedAttributes\r\n           * @returns {Promise<string[]>} Promise containing array of displayed-attributes\r\n           */\n\n\n          Index.prototype.getDisplayedAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/displayed-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update the displayed-attributes.\r\n           * @memberof Index\r\n           * @method updateDisplayedAttributes\r\n           * @param {DisplayedAttributes} displayedAttributes Array of strings that contains attributes of an index to display\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.updateDisplayedAttributes = function (displayedAttributes) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/displayed-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url, displayedAttributes)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Reset the displayed-attributes.\r\n           * @memberof Index\r\n           * @method resetDisplayedAttributes\r\n           * @returns {Promise<EnqueuedUpdate>} Promise containing object of the enqueued update\r\n           */\n\n\n          Index.prototype.resetDisplayedAttributes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes/\" + this.uid + \"/settings/displayed-attributes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest[\"delete\"](url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n\n          return Index;\n        }();\n        /*\r\n         * Bundle: MeiliSearch\r\n         * Project: MeiliSearch - Javascript API\r\n         * Author: Quentin de Quelen <quentin@meilisearch.com>\r\n         * Copyright: 2019, MeiliSearch\r\n         */\n\n\n        var MeiliSearch =\n        /** @class */\n        function () {\n          /**\r\n           * Creates new MeiliSearch instance\r\n           * @param {Config} config Configuration object\r\n           */\n          function MeiliSearch(config) {\n            config.host = addProtocolIfNotPresent(config.host);\n            config.host = HttpRequests.addTrailingSlash(config.host);\n            this.config = config;\n            this.httpRequest = new HttpRequests(config);\n          }\n          /**\r\n           * Return an Index instance\r\n           * @memberof MeiliSearch\r\n           * @method index\r\n           * @template T\r\n           * @param {string} indexUid The index UID\r\n           * @returns {Index<T>} Instance of Index\r\n           */\n\n\n          MeiliSearch.prototype.index = function (indexUid) {\n            return new Index(this.config, indexUid);\n          };\n          /**\r\n           * Gather information about an index by calling MeiliSearch and\r\n           * return an Index instance with the gathered information\r\n           * @memberof MeiliSearch\r\n           * @method getIndex\r\n           * @template T\r\n           * @param {string} indexUid The index UID\r\n           * @returns {Promise<Index<T>>} Promise containing Index instance\r\n           */\n\n\n          MeiliSearch.prototype.getIndex = function (indexUid) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                return [2\n                /*return*/\n                , new Index(this.config, indexUid).fetchInfo()];\n              });\n            });\n          };\n          /**\r\n           * Gather information about an index by calling MeiliSearch and\r\n           * return the raw JSON response\r\n           * @memberof MeiliSearch\r\n           * @method getRawIndex\r\n           * @param {string} indexUid The index UID\r\n           * @returns {Promise<IndexResponse>} Promise containing index information\r\n           */\n\n\n          MeiliSearch.prototype.getRawIndex = function (indexUid) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                return [2\n                /*return*/\n                , new Index(this.config, indexUid).getRawInfo()];\n              });\n            });\n          };\n          /**\r\n           * Get an index or create it if it does not exist\r\n           * @memberof MeiliSearch\r\n           * @method getOrCreateIndex\r\n           * @template T\r\n           * @param {string} uid The index UID\r\n           * @param {IndexOptions} options Index options\r\n           * @returns {Promise<Index<T>>} Promise containing Index instance\r\n           */\n\n\n          MeiliSearch.prototype.getOrCreateIndex = function (uid, options) {\n            if (options === void 0) {\n              options = {};\n            }\n\n            return __awaiter(this, void 0, void 0, function () {\n              var index, e_1;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    _a.trys.push([0, 2,, 3]);\n\n                    return [4\n                    /*yield*/\n                    , this.getIndex(uid)];\n\n                  case 1:\n                    index = _a.sent();\n                    return [2\n                    /*return*/\n                    , index];\n\n                  case 2:\n                    e_1 = _a.sent();\n\n                    if (e_1.code === \"index_not_found\"\n                    /* INDEX_NOT_FOUND */\n                    ) {\n                      return [2\n                      /*return*/\n                      , this.createIndex(uid, options)];\n                    }\n\n                    throw e_1;\n\n                  case 3:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          };\n          /**\r\n           * Get all indexes in the database\r\n           * @memberof MeiliSearch\r\n           * @method getIndexes\r\n           * @returns {Promise<IndexResponse[]>} Promise containing array of raw index information\r\n           */\n\n\n          MeiliSearch.prototype.getIndexes = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"indexes\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Create a new index\r\n           * @memberof MeiliSearch\r\n           * @method createIndex\r\n           * @template T\r\n           * @param {string} uid The index UID\r\n           * @param {IndexOptions} options Index options\r\n           * @returns {Promise<Index<T>>} Promise containing Index instance\r\n           */\n\n\n          MeiliSearch.prototype.createIndex = function (uid, options) {\n            if (options === void 0) {\n              options = {};\n            }\n\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    return [4\n                    /*yield*/\n                    , Index.create(uid, options, this.config)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Update an index\r\n           * @memberof MeiliSearch\r\n           * @method updateIndex\r\n           * @template T\r\n           * @param {string} uid The index UID\r\n           * @param {IndexOptions} options Index options to update\r\n           * @returns {Promise<Index<T>>} Promise containing Index instance after updating\r\n           */\n\n\n          MeiliSearch.prototype.updateIndex = function (uid, options) {\n            if (options === void 0) {\n              options = {};\n            }\n\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                return [2\n                /*return*/\n                , new Index(this.config, uid).update(options)];\n              });\n            });\n          };\n          /**\r\n           * Delete an index\r\n           * @memberof MeiliSearch\r\n           * @method deleteIndex\r\n           * @param {string} uid The index UID\r\n           * @returns {Promise<void>} Promise which resolves when index is deleted successfully\r\n           */\n\n\n          MeiliSearch.prototype.deleteIndex = function (uid) {\n            return __awaiter(this, void 0, void 0, function () {\n              return __generator(this, function (_a) {\n                return [2\n                /*return*/\n                , new Index(this.config, uid)[\"delete\"]()];\n              });\n            });\n          };\n          /**\r\n           * Deletes an index if it already exists.\r\n           * @memberof MeiliSearch\r\n           * @method deleteIndexIfExists\r\n           * @param {string} uid The index UID\r\n           * @returns {Promise<boolean>} Promise which resolves to true when index exists and is deleted successfully, otherwise false if it does not exist\r\n           */\n\n\n          MeiliSearch.prototype.deleteIndexIfExists = function (uid) {\n            return __awaiter(this, void 0, void 0, function () {\n              var e_2;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    _a.trys.push([0, 2,, 3]);\n\n                    return [4\n                    /*yield*/\n                    , this.deleteIndex(uid)];\n\n                  case 1:\n                    _a.sent();\n\n                    return [2\n                    /*return*/\n                    , true];\n\n                  case 2:\n                    e_2 = _a.sent();\n\n                    if (e_2.code === \"index_not_found\"\n                    /* INDEX_NOT_FOUND */\n                    ) {\n                      return [2\n                      /*return*/\n                      , false];\n                    }\n\n                    throw e_2;\n\n                  case 3:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          }; ///\n          /// KEYS\n          ///\n\n          /**\r\n           * Get private and public key\r\n           * @memberof MeiliSearch\r\n           * @method getKey\r\n           * @returns {Promise<Keys>} Promise containing an object with keys\r\n           */\n\n\n          MeiliSearch.prototype.getKeys = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"keys\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// HEALTH\n          ///\n\n          /**\r\n           * Checks if the server is healthy, otherwise an error will be thrown.\r\n           * @memberof MeiliSearch\r\n           * @method health\r\n           * @returns {Promise<Health>} Promise containing an object with health details\r\n           */\n\n\n          MeiliSearch.prototype.health = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"health\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Checks if the server is healthy, return true or false.\r\n           * @memberof MeiliSearch\r\n           * @method isHealthy\r\n           * @returns {Promise<boolean>} Promise containing a boolean\r\n           */\n\n\n          MeiliSearch.prototype.isHealthy = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    _a.trys.push([0, 2,, 3]);\n\n                    url = \"health\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    _a.sent();\n\n                    return [2\n                    /*return*/\n                    , true];\n\n                  case 2:\n                    _a.sent();\n\n                    return [2\n                    /*return*/\n                    , false];\n\n                  case 3:\n                    return [2\n                    /*return*/\n                    ];\n                }\n              });\n            });\n          }; ///\n          /// STATS\n          ///\n\n          /**\r\n           * Get the stats of all the database\r\n           * @memberof MeiliSearch\r\n           * @method getStats\r\n           * @returns {Promise<Stats>} Promise containing object of all the stats\r\n           */\n\n\n          MeiliSearch.prototype.getStats = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"stats\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// VERSION\n          ///\n\n          /**\r\n           * Get the version of MeiliSearch\r\n           * @memberof MeiliSearch\r\n           * @method getVersion\r\n           * @returns {Promise<Version>} Promise containing object with version details\r\n           */\n\n\n          MeiliSearch.prototype.getVersion = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"version\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          }; ///\n          /// DUMPS\n          ///\n\n          /**\r\n           * Triggers a dump creation process\r\n           * @memberof MeiliSearch\r\n           * @method createDump\r\n           * @returns {Promise<EnqueuedDump>} Promise containing object of the enqueued update\r\n           */\n\n\n          MeiliSearch.prototype.createDump = function () {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"dumps\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.post(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n          /**\r\n           * Get the status of a dump creation process\r\n           * @memberof MeiliSearch\r\n           * @method getDumpStatus\r\n           * @param {string} dumpUid Dump UID\r\n           * @returns {Promise<EnqueuedDump>} Promise containing object of the enqueued update\r\n           */\n\n\n          MeiliSearch.prototype.getDumpStatus = function (dumpUid) {\n            return __awaiter(this, void 0, void 0, function () {\n              var url;\n              return __generator(this, function (_a) {\n                switch (_a.label) {\n                  case 0:\n                    url = \"dumps/\" + dumpUid + \"/status\";\n                    return [4\n                    /*yield*/\n                    , this.httpRequest.get(url)];\n\n                  case 1:\n                    return [2\n                    /*return*/\n                    , _a.sent()];\n                }\n              });\n            });\n          };\n\n          return MeiliSearch;\n        }();\n\n        exports.HttpRequests = HttpRequests;\n        exports.Index = Index;\n        exports.MeiliSearch = MeiliSearch;\n        exports.MeiliSearchApiError = MeiliSearchApiError;\n        exports.MeiliSearchCommunicationError = MeiliSearchCommunicationError;\n        exports.MeiliSearchError = MeiliSearchError;\n        exports.MeiliSearchTimeOutError = MeiliSearchTimeOutError;\n        exports.addProtocolIfNotPresent = addProtocolIfNotPresent;\n        exports[\"default\"] = MeiliSearch;\n        exports.httpErrorHandler = httpErrorHandler;\n        exports.httpResponseErrorHandler = httpResponseErrorHandler;\n        exports.removeUndefinedFromObject = removeUndefinedFromObject;\n        exports.sleep = sleep;\n        Object.defineProperty(exports, '__esModule', {\n          value: true\n        });\n      });\n    });\n\n    var removeUndefined = function (arr) {\r\n        return arr.filter(function (x) { return x !== undefined; });\r\n    };\n\n    /**\r\n     * @param  {any} str\r\n     * @returns {boolean}\r\n     */\r\n    function isString(str) {\r\n        return typeof str === 'string' || str instanceof String;\r\n    }\r\n    /**\r\n     * @param  {string} filter\r\n     * @returns {string}\r\n     */\r\n    function replaceColonByEqualSign(filter) {\r\n        // will only change first occurence of `:`\r\n        return filter.replace(/:(.*)/i, '=\"$1\"');\r\n    }\r\n    /**\r\n     * @param  {any[]} arr\r\n     * @returns {string}\r\n     */\r\n    function stringifyArray(arr) {\r\n        return arr.reduce(function (acc, curr) {\r\n            return (acc += JSON.stringify(curr));\r\n        }, '');\r\n    }\n\n    /**\r\n     * @param  {number} dividend\r\n     * @param  {number} divisor\r\n     * @returns number\r\n     */\r\n    function ceiledDivision(dividend, divisor) {\r\n        if (divisor > 0) {\r\n            var NumberPages = Math.ceil(dividend / divisor); // total number of pages rounded up to the next largest integer.\r\n            return NumberPages;\r\n        }\r\n        return 0;\r\n    }\n\n    /**\r\n     * @param  {string} filter\r\n     */\r\n    var adaptFilterSyntax = function (filter) {\r\n        var matches = filter.match(/([^=]*)=\"?([^\\\\\"]*)\"?$/);\r\n        if (matches) {\r\n            matches[0]; var filterName = matches[1], value = matches[2];\r\n            return [{ filterName: filterName, value: value }];\r\n        }\r\n        return [];\r\n    };\r\n    /**\r\n     * @param  {Filter} filters?\r\n     * @returns {Array}\r\n     */\r\n    function extractFilters(filters) {\r\n        if (typeof filters === 'string') {\r\n            return adaptFilterSyntax(filters);\r\n        }\r\n        else if (Array.isArray(filters)) {\r\n            return filters\r\n                .map(function (nestedFilter) {\r\n                if (Array.isArray(nestedFilter)) {\r\n                    return nestedFilter.map(function (filter) { return adaptFilterSyntax(filter); });\r\n                }\r\n                return adaptFilterSyntax(nestedFilter);\r\n            })\r\n                .flat(2);\r\n        }\r\n        return [];\r\n    }\r\n    /**\r\n     * @param  {Filter} filters?\r\n     * @returns {FilterCache}\r\n     */\r\n    function cacheFilters(filters) {\r\n        var extractedFilters = extractFilters(filters);\r\n        var cleanFilters = removeUndefined(extractedFilters);\r\n        return cleanFilters.reduce(function (cache, parsedFilter) {\r\n            var _a;\r\n            var filterName = parsedFilter.filterName, value = parsedFilter.value;\r\n            var prevFields = cache[filterName] || [];\r\n            cache = __assign(__assign({}, cache), (_a = {}, _a[filterName] = __spreadArray(__spreadArray([], prevFields, true), [value]), _a));\r\n            return cache;\r\n        }, {});\r\n    }\r\n    /**\r\n     * Assign missing filters to facetsDistribution.\r\n     * All facet passed as filter should appear in the facetsDistribution.\r\n     * If not present, the facet is added with 0 as value.\r\n     *\r\n     *\r\n     * @param  {FilterCache} cache?\r\n     * @param  {FacetsDistribution} distribution?\r\n     * @returns {FacetsDistribution}\r\n     */\r\n    function assignMissingFilters(cachedFilters, distribution) {\r\n        distribution = distribution || {};\r\n        // If cachedFilters contains something\r\n        if (cachedFilters && Object.keys(cachedFilters).length > 0) {\r\n            // for all filters in cached filters\r\n            for (var cachedFacet in cachedFilters) {\r\n                // if facet does not exist on returned distribution, add an empty object\r\n                if (!distribution[cachedFacet])\r\n                    distribution[cachedFacet] = {};\r\n                // for all fields in every filter\r\n                for (var _i = 0, _a = cachedFilters[cachedFacet]; _i < _a.length; _i++) {\r\n                    var cachedField = _a[_i];\r\n                    // if the field is not present in the returned distribution\r\n                    // set it at 0\r\n                    if (!Object.keys(distribution[cachedFacet]).includes(cachedField)) {\r\n                        // add 0 value\r\n                        distribution[cachedFacet][cachedField] = 0;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return distribution;\r\n    }\n\n    /**\r\n     * @param  {ResponseCacher} cache\r\n     */\r\n    function SearchResolver(cache) {\r\n        return {\r\n            /**\r\n             * @param  {SearchContext} searchContext\r\n             * @param  {MeiliSearchParams} searchParams\r\n             * @param  {MeiliSearch} client\r\n             * @returns {Promise}\r\n             */\r\n            searchResponse: function (searchContext, searchParams, client) {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var key, entry, filterCache, searchResponse;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                key = cache.formatKey([\r\n                                    searchParams,\r\n                                    searchContext.indexUid,\r\n                                    searchContext.query,\r\n                                ]);\r\n                                entry = cache.getEntry(key);\r\n                                // Request is cached.\r\n                                if (entry)\r\n                                    return [2 /*return*/, entry\r\n                                        // Cache filters: todo components\r\n                                    ];\r\n                                filterCache = cacheFilters(searchParams === null || searchParams === void 0 ? void 0 : searchParams.filter);\r\n                                return [4 /*yield*/, client\r\n                                        .index(searchContext.indexUid)\r\n                                        .search(searchContext.query, searchParams)\r\n                                    // Add facets back into facetsDistribution\r\n                                ];\r\n                            case 1:\r\n                                searchResponse = _a.sent();\r\n                                // Add facets back into facetsDistribution\r\n                                searchResponse.facetsDistribution = assignMissingFilters(filterCache, searchResponse.facetsDistribution);\r\n                                // Cache response\r\n                                cache.setEntry(key, searchResponse);\r\n                                return [2 /*return*/, searchResponse];\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\n\n    /**\r\n     * @param  {number} rad\r\n     * @returns {number}\r\n     */\r\n    function rad2degr(rad) {\r\n        return (rad * 180) / Math.PI;\r\n    }\r\n    /**\r\n     * @param  {number} degr\r\n     * @returns {number}\r\n     */\r\n    function degr2rad(degr) {\r\n        return (degr * Math.PI) / 180;\r\n    }\r\n    /**\r\n     * @param  {number} lat1\r\n     * @param  {number} lng1\r\n     * @param  {number} lat2\r\n     * @param  {number} lng2\r\n     * @returns {string}\r\n     */\r\n    function middleGeoPoints(lat1, lng1, lat2, lng2) {\r\n        // convert to radians\r\n        lat1 = degr2rad(lat1);\r\n        lng1 = degr2rad(lng1);\r\n        var x1 = Math.cos(lat1) * Math.cos(lng1);\r\n        var y1 = Math.cos(lat1) * Math.sin(lng1);\r\n        var z1 = Math.sin(lat1);\r\n        // convert to radians\r\n        lat2 = degr2rad(lat2);\r\n        lng2 = degr2rad(lng2);\r\n        var x2 = Math.cos(lat2) * Math.cos(lng2);\r\n        var y2 = Math.cos(lat2) * Math.sin(lng2);\r\n        var z2 = Math.sin(lat2);\r\n        var x = x1 + x2;\r\n        var y = y1 + y2;\r\n        var z = z1 + z2;\r\n        var Hyp = Math.sqrt(x * x + y * y);\r\n        var lng3 = Math.atan2(y, x);\r\n        var lat3 = Math.atan2(z, Hyp);\r\n        if (lng1 < lng2 || (lng1 > lng2 && lng1 > Math.PI && lng2 < -Math.PI)) {\r\n            lat3 = lat3 + Math.PI;\r\n            lng3 = lng3 + Math.PI;\r\n        }\r\n        else {\r\n            lat3 = rad2degr(lat3);\r\n            lng3 = rad2degr(lng3);\r\n        }\r\n        if (Math.abs(x) < Math.pow(10, -9) &&\r\n            Math.abs(y) < Math.pow(10, -9) &&\r\n            Math.abs(z) < Math.pow(10, -9)) {\r\n            lat3 = 0;\r\n            lng3 = 0;\r\n        }\r\n        return \"\".concat(lat3, \",\").concat(lng3);\r\n    }\r\n    /**\r\n     * @param  {number} lat1\r\n     * @param  {number} lng1\r\n     * @param  {number} lat2\r\n     * @param  {number} lng2\r\n     * @returns {number}\r\n     */\r\n    function getDistanceInMeter(lat1, lng1, lat2, lng2) {\r\n        // Haversine Algorithm\r\n        var R = 6371e3; // metres\r\n        var latRad1 = (lat1 * Math.PI) / 180;\r\n        var latRad2 = (lat2 * Math.PI) / 180;\r\n        var latCenterRad = ((lat2 - lat1) * Math.PI) / 180;\r\n        var lngCenterRad = ((lng2 - lng1) * Math.PI) / 180;\r\n        var a = Math.sin(latCenterRad / 2) * Math.sin(latCenterRad / 2) +\r\n            Math.cos(latRad1) *\r\n                Math.cos(latRad2) *\r\n                Math.sin(lngCenterRad / 2) *\r\n                Math.sin(lngCenterRad / 2);\r\n        var bearing = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n        var distance = R * bearing; // in metres\r\n        return distance;\r\n    }\n\n    function adaptGeoPointsRules(geoSearchContext) {\r\n        if (!geoSearchContext) {\r\n            return undefined;\r\n        }\r\n        var insideBoundingBox = geoSearchContext.insideBoundingBox, aroundLatLng = geoSearchContext.aroundLatLng, aroundRadius = geoSearchContext.aroundRadius, minimumAroundRadius = geoSearchContext.minimumAroundRadius;\r\n        var middlePoint;\r\n        var radius;\r\n        if (aroundLatLng) {\r\n            middlePoint = aroundLatLng;\r\n        }\r\n        if (aroundRadius != null || minimumAroundRadius != null) {\r\n            if (aroundRadius != null)\r\n                radius = aroundRadius;\r\n            else\r\n                radius = minimumAroundRadius;\r\n        }\r\n        // If insideBoundingBox is provided it takes precedent over all other options\r\n        if (insideBoundingBox && typeof insideBoundingBox === 'string') {\r\n            var _a = insideBoundingBox.split(','), lat1Raw = _a[0], lng1Raw = _a[1], lat2Raw = _a[2], lng2Raw = _a[3];\r\n            var _b = [\r\n                parseFloat(lat1Raw),\r\n                parseFloat(lng1Raw),\r\n                parseFloat(lat2Raw),\r\n                parseFloat(lng2Raw),\r\n            ], lat1 = _b[0], lng1 = _b[1], lat2 = _b[2], lng2 = _b[3];\r\n            radius = getDistanceInMeter(lat1, lng1, lat2, lng2) / 2;\r\n            middlePoint = middleGeoPoints(lat1, lng1, lat2, lng2);\r\n        }\r\n        if (middlePoint != null && radius != null) {\r\n            var _c = middlePoint.split(','), lat3 = _c[0], lng3 = _c[1];\r\n            lat3 = Number.parseFloat(lat3).toFixed(5);\r\n            lng3 = Number.parseFloat(lng3).toFixed(5);\r\n            var filter = \"_geoRadius(\".concat(lat3, \", \").concat(lng3, \", \").concat(radius, \")\");\r\n            return { filter: filter };\r\n        }\r\n        return undefined;\r\n    }\r\n    function createGeoSearchContext(searchContext) {\r\n        var geoContext = {};\r\n        var aroundLatLng = searchContext.aroundLatLng, aroundLatLngViaIP = searchContext.aroundLatLngViaIP, aroundRadius = searchContext.aroundRadius, aroundPrecision = searchContext.aroundPrecision, minimumAroundRadius = searchContext.minimumAroundRadius, insideBoundingBox = searchContext.insideBoundingBox, insidePolygon = searchContext.insidePolygon;\r\n        if (aroundLatLng) {\r\n            geoContext.aroundLatLng = aroundLatLng;\r\n        }\r\n        if (aroundLatLngViaIP) {\r\n            console.warn('instant-meilisearch: `aroundLatLngViaIP` is not supported.');\r\n        }\r\n        if (aroundRadius) {\r\n            geoContext.aroundRadius = aroundRadius;\r\n        }\r\n        if (aroundPrecision) {\r\n            console.warn(\"instant-meilisearch: `aroundPrecision` is not supported.\\n    See this discussion to track its implementation https://github.com/meilisearch/product/discussions/264\");\r\n        }\r\n        if (minimumAroundRadius) {\r\n            geoContext.minimumAroundRadius = minimumAroundRadius;\r\n        }\r\n        if (insideBoundingBox) {\r\n            geoContext.insideBoundingBox = insideBoundingBox;\r\n        }\r\n        // See related issue: https://github.com/meilisearch/instant-meilisearch/issues/555\r\n        if (insidePolygon) {\r\n            console.warn(\"instant-meilisearch: `insidePolygon` is not implented in instant-meilisearch.\");\r\n        }\r\n        return geoContext;\r\n    }\n\n    /**\r\n     * Transform InstantSearch filter to MeiliSearch filter.\r\n     * Change sign from `:` to `=` in nested filter object.\r\n     * example: [`genres:comedy`] becomes [`genres=comedy`]\r\n     *\r\n     * @param  {SearchContext['facetFilters']} filters?\r\n     * @returns {Filter}\r\n     */\r\n    function transformFilter(filters) {\r\n        if (typeof filters === 'string') {\r\n            return replaceColonByEqualSign(filters);\r\n        }\r\n        else if (Array.isArray(filters))\r\n            return filters\r\n                .map(function (filter) {\r\n                if (Array.isArray(filter))\r\n                    return filter\r\n                        .map(function (nestedFilter) { return replaceColonByEqualSign(nestedFilter); })\r\n                        .filter(function (elem) { return elem; });\r\n                else {\r\n                    return replaceColonByEqualSign(filter);\r\n                }\r\n            })\r\n                .filter(function (elem) { return elem; });\r\n        return [];\r\n    }\r\n    /**\r\n     * Return the filter in an array if it is a string\r\n     * If filter is array, return without change.\r\n     *\r\n     * @param  {Filter} filter\r\n     * @returns {Array}\r\n     */\r\n    function filterToArray(filter) {\r\n        // Filter is a string\r\n        if (filter === '')\r\n            return [];\r\n        else if (typeof filter === 'string')\r\n            return [filter];\r\n        // Filter is either an array of strings, or an array of array of strings\r\n        return filter;\r\n    }\r\n    /**\r\n     * Merge facetFilters, numericFilters and filters together.\r\n     *\r\n     * @param  {Filter} facetFilters\r\n     * @param  {Filter} numericFilters\r\n     * @param  {string} filters\r\n     * @returns {Filter}\r\n     */\r\n    function mergeFilters(facetFilters, numericFilters, filters) {\r\n        var adaptedFilters = filters.trim();\r\n        var adaptedFacetFilters = filterToArray(facetFilters);\r\n        var adaptedNumericFilters = filterToArray(numericFilters);\r\n        var adaptedFilter = __spreadArray(__spreadArray(__spreadArray([], adaptedFacetFilters, true), adaptedNumericFilters, true), [\r\n            adaptedFilters,\r\n        ]);\r\n        var cleanedFilters = adaptedFilter.filter(function (filter) {\r\n            if (Array.isArray(filter)) {\r\n                return filter.length;\r\n            }\r\n            return filter;\r\n        });\r\n        return cleanedFilters;\r\n    }\r\n    /**\r\n     * Adapt instantsearch.js filters to MeiliSearch filters by\r\n     * combining and transforming all provided filters.\r\n     *\r\n     * @param  {string|undefined} filters\r\n     * @param  {SearchContext['numericFilters']} numericFilters\r\n     * @param  {SearchContext['facetFilters']} facetFilters\r\n     * @returns {Filter}\r\n     */\r\n    function adaptFilters(filters, numericFilters, facetFilters) {\r\n        var transformedFilter = transformFilter(facetFilters || []);\r\n        var transformedNumericFilter = transformFilter(numericFilters || []);\r\n        return mergeFilters(transformedFilter, transformedNumericFilter, filters || '');\r\n    }\n\n    /**\r\n     * Adapt search request from instantsearch.js\r\n     * to search request compliant with MeiliSearch\r\n     *\r\n     * @param  {SearchContext} searchContext\r\n     * @returns {MeiliSearchParams}\r\n     */\r\n    function adaptSearchParams(searchContext) {\r\n        // Creates search params object compliant with MeiliSearch\r\n        var meiliSearchParams = {};\r\n        // Facets\r\n        var facets = searchContext === null || searchContext === void 0 ? void 0 : searchContext.facets;\r\n        if (facets === null || facets === void 0 ? void 0 : facets.length) {\r\n            meiliSearchParams.facetsDistribution = facets;\r\n        }\r\n        // Attributes To Crop\r\n        var attributesToCrop = searchContext === null || searchContext === void 0 ? void 0 : searchContext.attributesToSnippet;\r\n        if (attributesToCrop) {\r\n            meiliSearchParams.attributesToCrop = attributesToCrop;\r\n        }\r\n        // Attributes To Retrieve\r\n        var attributesToRetrieve = searchContext === null || searchContext === void 0 ? void 0 : searchContext.attributesToRetrieve;\r\n        if (attributesToRetrieve) {\r\n            meiliSearchParams.attributesToRetrieve = attributesToRetrieve;\r\n        }\r\n        // Filter\r\n        var filter = adaptFilters(searchContext === null || searchContext === void 0 ? void 0 : searchContext.filters, searchContext === null || searchContext === void 0 ? void 0 : searchContext.numericFilters, searchContext === null || searchContext === void 0 ? void 0 : searchContext.facetFilters);\r\n        if (filter.length) {\r\n            meiliSearchParams.filter = filter;\r\n        }\r\n        // Attributes To Retrieve\r\n        if (attributesToRetrieve) {\r\n            meiliSearchParams.attributesToCrop = attributesToRetrieve;\r\n        }\r\n        // Attributes To Highlight\r\n        meiliSearchParams.attributesToHighlight = (searchContext === null || searchContext === void 0 ? void 0 : searchContext.attributesToHighlight) || [\r\n            '*',\r\n        ];\r\n        var placeholderSearch = searchContext.placeholderSearch;\r\n        var query = searchContext.query;\r\n        var paginationTotalHits = searchContext.paginationTotalHits;\r\n        // Limit\r\n        if ((!placeholderSearch && query === '') || paginationTotalHits === 0) {\r\n            meiliSearchParams.limit = 0;\r\n        }\r\n        else {\r\n            meiliSearchParams.limit = paginationTotalHits;\r\n        }\r\n        var sort = searchContext.sort;\r\n        // Sort\r\n        if (sort === null || sort === void 0 ? void 0 : sort.length) {\r\n            meiliSearchParams.sort = [sort];\r\n        }\r\n        var geoSearchContext = createGeoSearchContext(searchContext);\r\n        var geoRules = adaptGeoPointsRules(geoSearchContext);\r\n        if (geoRules === null || geoRules === void 0 ? void 0 : geoRules.filter) {\r\n            if (meiliSearchParams.filter) {\r\n                meiliSearchParams.filter.unshift(geoRules.filter);\r\n            }\r\n            else {\r\n                meiliSearchParams.filter = [geoRules.filter];\r\n            }\r\n        }\r\n        return meiliSearchParams;\r\n    }\n\n    /**\r\n     * Slice the requested hits based on the pagination position.\r\n     *\r\n     * @param  {Record<string} hits\r\n     * @param  {number} page\r\n     * @param  {number} hitsPerPage\r\n     * @returns {Array}\r\n     */\r\n    function adaptPagination(hits, page, hitsPerPage) {\r\n        if (hitsPerPage < 0) {\r\n            throw new TypeError('Value too small for \"hitsPerPage\" parameter, expected integer between 0 and 9223372036854775807');\r\n        }\r\n        var start = page * hitsPerPage;\r\n        return hits.slice(start, start + hitsPerPage);\r\n    }\n\n    /**\r\n     * Replace `em` tags in highlighted MeiliSearch hits to\r\n     * provided tags by instantsearch.js.\r\n     *\r\n     * @param  {string} value\r\n     * @param  {string} highlightPreTag?\r\n     * @param  {string} highlightPostTag?\r\n     * @returns {string}\r\n     */\r\n    function replaceDefaultEMTag(value, preTag, postTag) {\r\n        if (preTag === void 0) { preTag = '__ais-highlight__'; }\r\n        if (postTag === void 0) { postTag = '__/ais-highlight__'; }\r\n        // Highlight is applied by MeiliSearch (<em> tags)\r\n        // We replace the <em> by the expected tag for InstantSearch\r\n        var stringifiedValue = isString(value) ? value : JSON.stringify(value);\r\n        return stringifiedValue.replace(/<em>/g, preTag).replace(/<\\/em>/g, postTag);\r\n    }\r\n    function addHighlightTags(value, preTag, postTag) {\r\n        if (typeof value === 'string') {\r\n            // String\r\n            return replaceDefaultEMTag(value, preTag, postTag);\r\n        }\r\n        else if (value === undefined) {\r\n            // undefined\r\n            return JSON.stringify(null);\r\n        }\r\n        else {\r\n            // Other\r\n            return JSON.stringify(value);\r\n        }\r\n    }\r\n    function resolveHighlightValue(value, preTag, postTag) {\r\n        if (Array.isArray(value)) {\r\n            // Array\r\n            return value.map(function (elem) { return ({\r\n                value: addHighlightTags(elem, preTag, postTag)\r\n            }); });\r\n        }\r\n        else {\r\n            return { value: addHighlightTags(value, preTag, postTag) };\r\n        }\r\n    }\r\n    /**\r\n     * @param  {Record<string} formattedHit\r\n     * @param  {string} highlightPreTag?\r\n     * @param  {string} highlightPostTag?\r\n     * @returns {Record}\r\n     */\r\n    function adaptHighlight(hit, preTag, postTag) {\r\n        // hit is the `_formatted` object returned by MeiliSearch.\r\n        // It contains all the highlighted and croped attributes\r\n        if (!hit._formatted)\r\n            return hit._formatted;\r\n        return Object.keys(hit._formatted).reduce(function (result, key) {\r\n            var value = hit._formatted[key];\r\n            result[key] = resolveHighlightValue(value, preTag, postTag);\r\n            return result;\r\n        }, {});\r\n    }\n\n    function nakedOfTags(str) {\r\n        return str.replace(/<em>/g, '').replace(/<\\/em>/g, '');\r\n    }\r\n    function addEllipsis(value, formatValue, ellipsis) {\r\n        // Manage ellpsis on cropped values until this feature is implemented https://roadmap.meilisearch.com/c/69-policy-for-cropped-values?utm_medium=social&utm_source=portal_share in MeiliSearch\r\n        var ellipsedValue = formatValue;\r\n        if (isString(formatValue) &&\r\n            value.toString().length > nakedOfTags(formatValue).length) {\r\n            if (formatValue[0] === formatValue[0].toLowerCase() && // beginning of a sentence\r\n                formatValue.startsWith('<em>') === false // beginning of the document field, otherwise MeiliSearch would crop around the highlight\r\n            ) {\r\n                ellipsedValue = \"\".concat(ellipsis).concat(formatValue.trim());\r\n            }\r\n            if (!!formatValue.match(/[.!?]$/) === false) {\r\n                // end of the sentence\r\n                ellipsedValue = \"\".concat(formatValue.trim()).concat(ellipsis);\r\n            }\r\n        }\r\n        return ellipsedValue;\r\n    }\r\n    /**\r\n     * @param  {string} value\r\n     * @param  {string} ellipsis?\r\n     * @returns {string}\r\n     */\r\n    function resolveSnippet(value, formatValue, ellipsis) {\r\n        if (!ellipsis || !(typeof formatValue === 'string')) {\r\n            return formatValue;\r\n        }\r\n        else if (Array.isArray(value)) {\r\n            // Array\r\n            return value.map(function (elem) { return addEllipsis(elem, formatValue, ellipsis); });\r\n        }\r\n        return addEllipsis(value, formatValue, ellipsis);\r\n    }\r\n    /**\r\n     * @param  {Record<string} hit\r\n     * @param  {readonlystring[]|undefined} attributes\r\n     * @param  {string|undefined} ellipsis\r\n     */\r\n    function adaptSnippet(hit, attributes, ellipsis) {\r\n        // hit is the `_formatted` object returned by MeiliSearch.\r\n        // It contains all the highlighted and croped attributes\r\n        var formattedHit = hit._formatted;\r\n        var newHit = hit._formatted;\r\n        if (attributes === undefined) {\r\n            return hit;\r\n        }\r\n        // All attributes that should be snippeted and their snippet size\r\n        var snippets = attributes.map(function (attribute) { return attribute.split(':')[0]; });\r\n        // Find presence of a wildcard *\r\n        var wildCard = snippets.includes('*');\r\n        if (wildCard) {\r\n            // In case of *\r\n            for (var attribute in formattedHit) {\r\n                newHit[attribute] = resolveSnippet(hit[attribute], formattedHit[attribute], ellipsis);\r\n            }\r\n        }\r\n        else {\r\n            // Itterate on all attributes that needs snippeting\r\n            for (var _i = 0, snippets_1 = snippets; _i < snippets_1.length; _i++) {\r\n                var attribute = snippets_1[_i];\r\n                newHit[attribute] = resolveSnippet(hit[attribute], formattedHit[attribute], ellipsis);\r\n            }\r\n        }\r\n        hit._formatted = newHit;\r\n        return hit;\r\n    }\n\n    /**\r\n     * Adapt MeiliSearch formating to formating compliant with instantsearch.js.\r\n     *\r\n     * @param  {Record<string} formattedHit\r\n     * @param  {SearchContext} searchContext\r\n     * @returns {Record}\r\n     */\r\n    function adaptFormating(hit, searchContext) {\r\n        var attributesToSnippet = searchContext === null || searchContext === void 0 ? void 0 : searchContext.attributesToSnippet;\r\n        var ellipsis = searchContext === null || searchContext === void 0 ? void 0 : searchContext.snippetEllipsisText;\r\n        var preTag = searchContext === null || searchContext === void 0 ? void 0 : searchContext.highlightPreTag;\r\n        var postTag = searchContext === null || searchContext === void 0 ? void 0 : searchContext.highlightPostTag;\r\n        if (!hit._formatted)\r\n            return {};\r\n        var _highlightResult = adaptHighlight(hit, preTag, postTag);\r\n        // what is ellipsis by default\r\n        var _snippetResult = adaptHighlight(adaptSnippet(hit, attributesToSnippet, ellipsis), preTag, postTag);\r\n        var highlightedHit = {\r\n            _highlightResult: _highlightResult,\r\n            _snippetResult: _snippetResult\r\n        };\r\n        return highlightedHit;\r\n    }\n\n    /**\r\n     * @param  {any[]} hits\r\n     * @returns {Array<Record<string, any>>}\r\n     */\r\n    function adaptGeoResponse(hits) {\r\n        for (var i = 0; i < hits.length; i++) {\r\n            if (hits[i]._geo) {\r\n                hits[i]._geoloc = {\r\n                    lat: hits[i]._geo.lat,\r\n                    lng: hits[i]._geo.lng\r\n                };\r\n                hits[i].objectID = \"\".concat(i + Math.random() * 1000000);\r\n                delete hits[i]._geo;\r\n            }\r\n        }\r\n        return hits;\r\n    }\n\n    /**\r\n     * @param  {Array<Record<string} hits\r\n     * @param  {SearchContext} searchContext\r\n     * @param  {PaginationContext} paginationContext\r\n     * @returns {any}\r\n     */\r\n    function adaptHits(hits, searchContext, paginationContext) {\r\n        var primaryKey = searchContext.primaryKey;\r\n        var hitsPerPage = paginationContext.hitsPerPage, page = paginationContext.page;\r\n        var paginatedHits = adaptPagination(hits, page, hitsPerPage);\r\n        var formattedHits = paginatedHits.map(function (hit) {\r\n            // Creates Hit object compliant with InstantSearch\r\n            if (Object.keys(hit).length > 0) {\r\n                hit._formatted; hit._matchesInfo; var restOfHit = __rest(hit, [\"_formatted\", \"_matchesInfo\"]);\r\n                return __assign(__assign(__assign({}, restOfHit), adaptFormating(hit, searchContext)), (primaryKey && { objectID: hit[primaryKey] }));\r\n            }\r\n            return hit;\r\n        });\r\n        formattedHits = adaptGeoResponse(formattedHits);\r\n        return formattedHits;\r\n    }\n\n    /**\r\n     * Adapt search response from MeiliSearch\r\n     * to search response compliant with instantsearch.js\r\n     *\r\n     * @param  {MeiliSearchResponse<Record<string} searchResponse\r\n     * @param  {SearchContext} searchContext\r\n     * @param  {PaginationContext} paginationContext\r\n     * @returns {{ results: Array<AlgoliaSearchResponse<T>> }}\r\n     */\r\n    function adaptSearchResponse(searchResponse, searchContext, paginationContext) {\r\n        var searchResponseOptionals = {};\r\n        var facets = searchResponse.facetsDistribution;\r\n        var exhaustiveFacetsCount = searchResponse === null || searchResponse === void 0 ? void 0 : searchResponse.exhaustiveFacetsCount;\r\n        if (exhaustiveFacetsCount) {\r\n            searchResponseOptionals.exhaustiveFacetsCount = exhaustiveFacetsCount;\r\n        }\r\n        var nbPages = ceiledDivision(searchResponse.hits.length, paginationContext.hitsPerPage);\r\n        var hits = adaptHits(searchResponse.hits, searchContext, paginationContext);\r\n        var exhaustiveNbHits = searchResponse.exhaustiveNbHits;\r\n        var nbHits = searchResponse.nbHits;\r\n        var processingTimeMs = searchResponse.processingTimeMs;\r\n        var query = searchResponse.query;\r\n        var hitsPerPage = paginationContext.hitsPerPage, page = paginationContext.page;\r\n        // Create response object compliant with InstantSearch\r\n        var adaptedSearchResponse = __assign({ index: searchContext.indexUid, hitsPerPage: hitsPerPage, page: page, facets: facets, nbPages: nbPages, exhaustiveNbHits: exhaustiveNbHits, nbHits: nbHits, processingTimeMS: processingTimeMs, query: query, hits: hits, params: '' }, searchResponseOptionals);\r\n        return {\r\n            results: [adaptedSearchResponse]\r\n        };\r\n    }\n\n    /**\r\n     * @param  {Record<string} cache\r\n     * @returns {SearchCache}\r\n     */\r\n    function SearchCache(cache) {\r\n        if (cache === void 0) { cache = {}; }\r\n        var searchCache = cache;\r\n        return {\r\n            getEntry: function (key) {\r\n                if (searchCache[key]) {\r\n                    try {\r\n                        return JSON.parse(searchCache[key]);\r\n                    }\r\n                    catch (_) {\r\n                        return searchCache[key];\r\n                    }\r\n                }\r\n                return undefined;\r\n            },\r\n            formatKey: function (components) {\r\n                return stringifyArray(components);\r\n            },\r\n            setEntry: function (key, searchResponse) {\r\n                searchCache[key] = JSON.stringify(searchResponse);\r\n            }\r\n        };\r\n    }\n\n    /**\r\n     * Instanciate SearchClient required by instantsearch.js.\r\n     *\r\n     * @param  {string} hostUrl\r\n     * @param  {string} apiKey\r\n     * @param  {InstantMeiliSearchOptions={}} meiliSearchOptions\r\n     * @returns {InstantMeiliSearchInstance}\r\n     */\r\n    function instantMeiliSearch(hostUrl, apiKey, options) {\r\n        if (apiKey === void 0) { apiKey = ''; }\r\n        if (options === void 0) { options = {}; }\r\n        // create search resolver with included cache\r\n        var searchResolver = SearchResolver(SearchCache());\r\n        // paginationTotalHits can be 0 as it is a valid number\r\n        var paginationTotalHits = options.paginationTotalHits != null ? options.paginationTotalHits : 200;\r\n        var context = {\r\n            primaryKey: options.primaryKey || undefined,\r\n            placeholderSearch: options.placeholderSearch !== false,\r\n            paginationTotalHits: paginationTotalHits\r\n        };\r\n        return {\r\n            MeiliSearchClient: new meilisearch_umd.MeiliSearch({ host: hostUrl, apiKey: apiKey }),\r\n            /**\r\n             * @param  {readonlyAlgoliaMultipleQueriesQuery[]} instantSearchRequests\r\n             * @returns {Array}\r\n             */\r\n            search: function (instantSearchRequests) {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    var searchRequest, instantSearchParams, searchContext, paginationContext, adaptedSearchRequest, searchResponse, adaptedSearchResponse, e_1;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                _a.trys.push([0, 2, , 3]);\r\n                                searchRequest = instantSearchRequests[0];\r\n                                instantSearchParams = searchRequest.params;\r\n                                searchContext = createSearchContext(searchRequest, context);\r\n                                paginationContext = createPaginationContext(searchContext, instantSearchParams);\r\n                                adaptedSearchRequest = adaptSearchParams(searchContext);\r\n                                return [4 /*yield*/, searchResolver.searchResponse(searchContext, adaptedSearchRequest, this.MeiliSearchClient)\r\n                                    // Adapt the MeiliSearch responsne to a compliant instantsearch.js response\r\n                                ];\r\n                            case 1:\r\n                                searchResponse = _a.sent();\r\n                                adaptedSearchResponse = adaptSearchResponse(searchResponse, searchContext, paginationContext);\r\n                                return [2 /*return*/, adaptedSearchResponse];\r\n                            case 2:\r\n                                e_1 = _a.sent();\r\n                                console.error(e_1);\r\n                                throw new Error(e_1);\r\n                            case 3: return [2 /*return*/];\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            searchForFacetValues: function (_) {\r\n                return __awaiter(this, void 0, void 0, function () {\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0: return [4 /*yield*/, new Promise(function (resolve, reject) {\r\n                                    reject(new Error('SearchForFacetValues is not compatible with MeiliSearch'));\r\n                                    resolve([]); // added here to avoid compilation error\r\n                                })];\r\n                            case 1: return [2 /*return*/, _a.sent()];\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        };\r\n    }\r\n    /**\r\n     * @param  {AlgoliaMultipleQueriesQuery} searchRequest\r\n     * @param  {Context} options\r\n     * @returns {SearchContext}\r\n     */\r\n    function createSearchContext(searchRequest, options) {\r\n        // Split index name and possible sorting rules\r\n        var _a = searchRequest.indexName.split(':'), indexUid = _a[0], sortByArray = _a.slice(1);\r\n        var instantSearchParams = searchRequest.params;\r\n        var searchContext = __assign(__assign(__assign({}, options), instantSearchParams), { sort: sortByArray.join(':') || '', indexUid: indexUid });\r\n        return searchContext;\r\n    }\r\n    /**\r\n     * @param  {AlgoliaMultipleQueriesQuery} searchRequest\r\n     * @param  {Context} options\r\n     * @returns {SearchContext}\r\n     */\r\n    function createPaginationContext(searchContext, params) {\r\n        return {\r\n            paginationTotalHits: searchContext.paginationTotalHits || 200,\r\n            hitsPerPage: searchContext.hitsPerPage === undefined ? 20 : searchContext.hitsPerPage,\r\n            page: (params === null || params === void 0 ? void 0 : params.page) || 0\r\n        };\r\n    }\n\n    exports.instantMeiliSearch = instantMeiliSearch;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"],"sourceRoot":""}
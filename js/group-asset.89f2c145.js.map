{"version":3,"sources":["webpack:///./src/views/Asset.vue","webpack:///./src/comps/asset/AssetTabs.vue","webpack:///./src/comps/asset/AssetTabs.vue?88bb","webpack:///./src/comps/asset/AssetBanner.vue","webpack:///./src/comps/asset/AssetBanner.vue?607c","webpack:///./src/comps/asset/AssetHistoryChart.vue","webpack:///./src/comps/asset/AssetHistoryChart.vue?d1b8","webpack:///./src/views/Asset.vue?1481"],"names":["class","asset","fetchData","$event","labels","data","sector","ticker","subsector","segment","assetIndicators","pl","pvp","roe","evEbitda","liquidezCorrente","margemLiquida","items","i","days","text","selected","clicked","ITEMS","name","methods","index","this","$emit","render","price","props","type","Object","required","computed","colors","gain","ref","OPTIONS","plugins","colorschemes","scheme","legend","display","scales","xAxes","gridLines","ticks","yAxes","tooltips","mode","intersect","displayColors","callbacks","label","tooltip","yLabel","Array","default","chart","watch","val","update","datasets","config","tension","fill","pointRadius","borderColor","options","mounted","$refs","components","Navbar","AssetTabs","AssetBanner","AssetHistoryChart","NavbarBottom","String","period","history","prices","map","Date","date","toLocaleDateString","assets","fetchAsset","fetchHistory","fetchAssetIndicators","created"],"mappings":"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","file":"js/group-asset.89f2c145.js","sourcesContent":["<template>\n<Navbar class=\"has-shadow\" />\n\n<br>\n\n<div class=\"container\">\n  <div class=\"columns is-centered mx-0\">\n    <div class=\"column is-three-fifths\">\n      <article class=\"box\">\n        <AssetBanner v-if=\"asset\" :asset=\"asset\" />\n        <br>\n        <AssetTabs class=\"is-fullwidth is-toggle\" @update=\"fetchData($event)\" />\n        <AssetHistoryChart :labels=\"labels\" :data=\"data\" />\n      </article>\n    </div>\n\n    <!-- Avoid glitching out when we do not have the sector of the ticker -->\n    <div class=\"column is-two-fifths\" v-if=\"asset\">\n      <article class=\"box\" v-if=\"sector\">\n        <h4 class=\"title is-4\"> Sobre a {{ asset.ticker }} </h4>\n\n        <hr>\n\n        <div class=\"columns\">\n          <!-- Sector -->\n          <div class=\"column is-one-third\">\n            <h5 class=\"title is-5\"> Setor </h5>\n            <p class=\"subtitle is-6\"> {{ sector.sector }} </p>\n          </div>\n\n          <!-- Subsector -->\n          <div class=\"column is-one-third\">\n            <h5 class=\"title is-5\"> Subsetor </h5>\n            <p class=\"subtitle is-6\"> {{ sector.subsector }} </p>\n          </div>\n\n          <!-- Segment -->\n          <div class=\"column is-one-third\">\n            <h5 class=\"title is-5\"> Segmento </h5>\n            <p class=\"subtitle is-6\"> {{ sector.segment }} </p>\n          </div>\n        </div>\n      </article>\n      <article class=\"box\" v-if=\"assetIndicators\">\n        <h4 class=\"title is-4\"> Indicadores </h4>\n\n        <hr>\n\n        <div class=\"columns is-multiline\">\n          <!-- Subsector -->\n          <div class=\"column is-half\">\n            <h5 class=\"title is-5\"> P/L </h5>\n            <p class=\"subtitle is-6\"> {{ assetIndicators.pl }} </p>\n          </div>\n\n          <div class=\"column is-half\">\n            <h5 class=\"title is-5\"> P/VP </h5>\n            <p class=\"subtitle is-6\"> {{ assetIndicators.pvp }} </p>\n          </div>\n\n          <div class=\"column is-half\">\n            <h5 class=\"title is-5\"> ROE </h5>\n            <p class=\"subtitle is-6\"> {{ assetIndicators.roe }} </p>\n          </div>\n\n          <div class=\"column is-half\">\n            <h5 class=\"title is-5\"> EV/Ebitda </h5>\n            <p class=\"subtitle is-6\"> {{ assetIndicators.evEbitda }} </p>\n          </div>\n\n          <div class=\"column is-half\">\n            <h5 class=\"title is-5\"> Liquidez corrente </h5>\n            <p class=\"subtitle is-6\"> {{ assetIndicators.liquidezCorrente }} </p>\n          </div>\n\n          <div class=\"column is-half\">\n            <h5 class=\"title is-5\"> Margem líquida </h5>\n            <p class=\"subtitle is-6\"> {{ assetIndicators.margemLiquida }} </p>\n          </div>\n        </div>\n      </article>\n    </div>\n  </div>\n</div>\n<NavbarBottom/>\n</template>\n\n<script>\nimport SECTORS from '@/assets/sectors.json'\n\nimport client from '@/commons/client.api'\n\nimport Navbar from '@/comps/navbar/Navbar'\nimport NavbarBottom from '@/comps/navbar/NavbarBottom'\n\nimport AssetTabs from '@/comps/asset/AssetTabs'\nimport AssetBanner from '@/comps/asset/AssetBanner'\nimport AssetHistoryChart from '@/comps/asset/AssetHistoryChart'\n\nexport default {\n  name: 'Asset',\n\n  components: {\n    Navbar,\n    AssetTabs,\n    AssetBanner,\n    AssetHistoryChart,\n    NavbarBottom\n  },\n\n  props: {\n    ticker: {\n      type: String,\n      required: true\n    }\n  },\n\n  data: () => ({\n    period: 7,\n    asset: null,\n    assetIndicators: null,\n    history: { prices: [] }\n  }),\n\n  computed: {\n    data () {\n      return this.history.prices.map(i => i.price)\n    },\n    labels () {\n      return this.history.prices\n        .map(i => new Date(i.date))\n        .map(i => i.toLocaleDateString('pt-BR'))\n    },\n    sector () {\n      return SECTORS[this.asset.ticker]\n    }\n  },\n\n  methods: {\n    async fetchData (days) {\n      this.asset = await client.assets.fetchAsset(this.ticker, days)\n      this.history = await client.assets.fetchHistory(this.ticker, days)\n      this.assetIndicators = await client.assets.fetchAssetIndicators(this.ticker, days)\n    }\n  },\n\n  async created () {\n    await this.fetchData(7)\n  }\n}\n</script>\n","<template>\n<div class=\"tabs\">\n  <ul>\n    <template v-for=\"({days, text}, i) of items\" :key=\"text\">\n      <li :class=\"{ 'is-active': i === selected }\">\n        <a @click=\"clicked(i, days)\"> {{ text }} </a>\n      </li>\n    </template>\n  </ul>\n</div>\n</template>\n\n<script>\nimport { getDaysInYear } from '@/utils.js'\n\nconst ITEMS = [\n  { days: 7, text: '1 semana' },\n  { days: 30, text: '1 mês' },\n  { days: 90, text: '3 meses' },\n  { days: getDaysInYear(), text: 'YTD' }\n]\n\nexport default {\n  name: 'AssetTabs',\n\n  data: () => ({\n    selected: 0,\n    items: ITEMS\n  }),\n\n  methods: {\n    clicked (index, days) {\n      this.selected = index\n      this.$emit('update', days)\n    }\n  }\n}\n</script>\n","import { render } from \"./AssetTabs.vue?vue&type=template&id=25cc4772\"\nimport script from \"./AssetTabs.vue?vue&type=script&lang=js\"\nexport * from \"./AssetTabs.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n<div class=\"is-flex is-flex-wrap-wrap is-justify-content-space-between\">\n  <div class=\"is-flex\">\n    <!-- Icon -->\n    <c-ticker :ticker=\"asset.ticker\" />\n\n    <!-- Name + ticker -->\n    <div class=\"is-flex is-flex-direction-column is-justify-content-center pl-3\">\n      <div>\n        <span class=\"has-text-weight-bold is-size-5\"> {{ asset.name }} </span>\n        <span class=\"is-size-6\"> ${{ asset.ticker }} </span>\n      </div>\n      <div>\n        R$ {{ asset.price }}\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'AssetBanner',\n\n  props: {\n    asset: {\n      type: Object,\n      required: true\n    }\n  },\n\n  computed: {\n    colors () {\n      return {\n        'has-text-danger': this.asset.gain < 0,\n        'has-text-primary': this.asset.gain > 0,\n        'has-text-weight-bold': this.asset.gain !== 0\n      }\n    }\n  }\n}\n</script>\n","import { render } from \"./AssetBanner.vue?vue&type=template&id=5a5d00c9\"\nimport script from \"./AssetBanner.vue?vue&type=script&lang=js\"\nexport * from \"./AssetBanner.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n<canvas ref=\"chart\"></canvas>\n</template>\n\n<script>\nimport Chart from 'chart.js'\nimport 'chartjs-plugin-colorschemes/src/plugins/plugin.colorschemes'\nimport { Tableau20 } from 'chartjs-plugin-colorschemes/src/colorschemes/colorschemes.tableau'\n\nconst OPTIONS = {\n  plugins: { colorschemes: { scheme: Tableau20 } },\n  legend: { display: false },\n  scales: {\n    xAxes: [{ gridLines: { display: false }, ticks: { display: false } }],\n    yAxes: [{ gridLines: { display: false }, ticks: { display: false } }]\n  },\n  tooltips: {\n    mode: 'index',\n    intersect: false,\n    displayColors: false,\n    callbacks: {\n      label: tooltip => `R$ ${tooltip.yLabel}`\n    }\n  }\n}\n\nexport default {\n  name: 'AssetHistoryChart',\n\n  props: {\n    labels: {\n      type: Array,\n      default: () => []\n    },\n    data: {\n      type: Array,\n      default: () => []\n    }\n  },\n\n  data: () => ({\n    chart: null\n  }),\n\n  watch: {\n    labels (val) {\n      this.chart.data.labels = val\n      this.chart.update()\n    },\n    data (val) {\n      this.chart.data.datasets[0].data = val\n      this.chart.update()\n    }\n  },\n\n  computed: {\n    config () {\n      return {\n        type: 'line',\n        data: {\n          labels: this.labels,\n          datasets: [{\n            tension: 0,\n            fill: false,\n            pointRadius: 0,\n            data: this.data,\n            borderColor: 'rgba(53, 229, 153, 1)' // primary\n          }]\n        },\n        options: OPTIONS\n      }\n    }\n  },\n\n  mounted () {\n    this.chart = new Chart(this.$refs.chart, this.config)\n  }\n}\n</script>\n","import { render } from \"./AssetHistoryChart.vue?vue&type=template&id=161c34d8\"\nimport script from \"./AssetHistoryChart.vue?vue&type=script&lang=js\"\nexport * from \"./AssetHistoryChart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Asset.vue?vue&type=template&id=61cd3525\"\nimport script from \"./Asset.vue?vue&type=script&lang=js\"\nexport * from \"./Asset.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}